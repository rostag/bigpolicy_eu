webpackJsonp([1,4],{105:function(t,e,n){"use strict";var o=n(194);n.d(e,"b",function(){return o.a});var r=n(732);n.d(e,"a",function(){return r.a})},1194:function(t,e,n){t.exports=n(554)},137:function(t,e,n){"use strict";var o=n(285);n.d(e,"a",function(){return o.a});var r=n(729);n.d(e,"b",function(){return r.a})},194:function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(1),a=(n.n(i),n(110)),s=(n.n(a),n(56));n.n(s);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.apiUrl="/project-api/"}return t.cacheProject=function(t){this._cachedProjects[t._id]=t},t.getCachedProject=function(t){return this._cachedProjects[t]||{}},t.prototype.createProject=function(t){var e=encodeURIComponent(t.toString()),n=new r.Headers;n.append("Content-Type","application/x-www-form-urlencoded");var o=new r.RequestOptions({headers:n});return this.http.post(this.apiUrl,e,o).map(function(t){return t.json()})},t.prototype.getProjects=function(t,e,n){var o=this;void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n=10);var r=this.apiUrl+(e?"leader/"+e:t),i=this.http.get(r).map(function(t){var e=t.json();return e.forEach?e.forEach(function(t){return o.convertTime(t)}):o.convertTime(e),console.log("Projects loaded, response: ",e),e});return i},t.prototype.convertTime=function(t){t.dateStarted=new Date(t.dateStarted),t.dateEnded=new Date(t.dateEnded)},t.prototype.getProject=function(t){return this.getProjects(t)},t.prototype.updateProject=function(t){var e=new r.Headers;return e.append("Content-Type","application/json"),this.http.put(this.apiUrl+t._id,t.toString(),{headers:e}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.deleteProject=function(t){this.http.delete(this.apiUrl+t._id).map(function(t){return console.log("Project deleted:",t.json())}).catch(this.handleError).subscribe(function(t){})},t.prototype.handleError=function(t){return console.error("Error occured:",t),i.Observable.throw(t.json().error||"Server error")},t._cachedProjects=[],t=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}()},22:function(t,e,n){"use strict";var o=n(0),r=n(743),i=(n.n(r),n(194));n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){var e=this;this.projectService=t,this.options={auth:{responseType:"token"}},this.lock=new Auth0Lock("IgrxIDG6iBnAlS0HLpPW2m3hWb1LRH1J","bigpolicy.eu.auth0.com",this.options),this._isDemoMode=!1,this.userProfile={name:"",email:""},this.userProfile=JSON.parse(localStorage.getItem("profile")),this.lock.on("authenticated",function(t){localStorage.setItem("id_token",t.idToken),e.lock.getProfile(t.idToken,function(t,n){return t?void alert(t):(localStorage.setItem("profile",JSON.stringify(n)),void(e.userProfile=n))})})}return Object.defineProperty(t.prototype,"isDemoMode",{get:function(){return this._isDemoMode},set:function(t){this._isDemoMode=t},enumerable:!0,configurable:!0}),t.prototype.hasEditPermissions=function(t){return this.isDemoMode||this.isAdmin()||this.isOwner(t)},t.prototype.authenticated=function(){return n.i(r.tokenNotExpired)()},t.prototype.isAdmin=function(){return this.authenticated()&&this.userProfile&&"rostislav.siryk@gmail.com"===this.userProfile.email},t.prototype.isOwner=function(t){var e=this.userProfile&&this.userProfile.email||"",n=e===t.managerEmail,o=e===t.email,r=t.projectId&&e===i.a.getCachedProject(t.projectId).managerEmail;return this.authenticated()&&(r||o||n)},t.prototype.login=function(){this.lock.show()},t.prototype.logout=function(){localStorage.removeItem("id_token"),localStorage.removeItem("profile"),this.userProfile=void 0},t.prototype.setDemoMode=function(){},t=a([n.i(o.Injectable)(),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},285:function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(1),a=(n.n(i),n(110)),s=(n.n(a),n(56));n.n(s);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.apiUrl="/leader-api/"}return t.prototype.createLeader=function(t){var e=encodeURIComponent(t.toString()),n=new r.Headers;n.append("Content-Type","application/x-www-form-urlencoded");var o=new r.RequestOptions({headers:n});return this.http.post(this.apiUrl,e,o).map(function(t){return t.json()})},t.prototype.getLeaders=function(t){var e=this;return void 0===t&&(t=""),this.models&&this.models.length?i.Observable.from([this.models]):(this.request||(this.request=this.http.get(this.apiUrl+t).map(function(t){return e.models=t.json(),e.models})),this.request)},t.prototype.getLeader=function(t){return this.getLeaders(t)},t.prototype.getLeaderByEmail=function(t){var e,n=this.models;for(var o in n)n[o].email===t&&(e=n[o]);return e},t.prototype.updateLeader=function(t){var e=new r.Headers;return e.append("Content-Type","application/json"),this.http.put(this.apiUrl+t._id,t.toString(),{headers:e}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.deleteLeader=function(t){this.http.delete(this.apiUrl+t._id).map(function(t){return console.log("Leader deleted:",t.json())}).catch(this.handleError).subscribe(function(t){})},t.prototype.get=function(){return this.getLeaders()},t.prototype.handleError=function(t){return console.error("Error occured: ",t),i.Observable.throw(t.json().error||"Server error")},t=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}()},286:function(t,e,n){"use strict";var o=n(475);n.d(e,"a",function(){return o.a});var r=n(734);n.d(e,"b",function(){return r.a})},305:function(t,e){t.exports='.container{position:relative;max-width:960px;margin:0 auto;padding:0 20px}.column,.columns,.container{width:100%;box-sizing:border-box}.column,.columns{float:left}@media (min-width:400px){.container{width:85%;padding:0}}@media (min-width:550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}}html{font-size:62.5%}body{font-size:1.5em;line-height:1.6;font-weight:400;font-family:Raleway,HelveticaNeue,Helvetica Neue,Helvetica,Arial,sans-serif;color:#222}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4rem;line-height:1.2}h1,h2{letter-spacing:-.1rem}h2{font-size:3.6rem;line-height:1.25}h3{font-size:3rem;line-height:1.3;letter-spacing:-.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media (min-width:550px){h1{font-size:5rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}a{color:#1eaedb}a:hover{color:#0fa0ce}.button,button,input[type=button],input[type=reset],input[type=submit]{display:inline-block;text-decoration:none;white-space:nowrap;cursor:pointer;box-sizing:border-box}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{color:#333;border-color:#888;outline:0}.button.button-primary,button.button-primary,input[type=button].button-primary,input[type=reset].button-primary,input[type=submit].button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-top:6px;padding-bottom:6px}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:400}ul{list-style:circle inside}ol{list-style:decimal inside}ol,ul{padding-left:0;margin-top:0}ol ol,ol ul,ul ol,ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#f1f1f1;border:1px solid #e1e1e1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}td,th{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}.button,button{margin-bottom:1rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}.u-full-width{width:100%;box-sizing:border-box}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #e1e1e1}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}'},460:function(t,e,n){"use strict";var o=n(713);n.d(e,"a",function(){return o.a})},461:function(t,e,n){"use strict";var o=n(0),r=n(22),i=n(194);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.userService=t,this.projectService=e,this.title="BigPolicy"}return t.prototype.ngOnInit=function(){console.log("• BP app init, user service: ",this.userService)},t=a([n.i(o.Component)({selector:"app-root",template:n(921),styles:[n(899)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},462:function(t,e,n){"use strict";var o=n(717);n.d(e,"a",function(){return o.a})},463:function(t,e,n){"use strict";var o=n(718);n.d(e,"a",function(){return o.a})},464:function(t,e,n){"use strict";var o=n(719);n.d(e,"a",function(){return o.a})},465:function(t,e,n){"use strict";var o=n(720);n.d(e,"a",function(){return o.a})},466:function(t,e,n){"use strict";var o=n(721);n.d(e,"a",function(){return o.a})},467:function(t,e,n){"use strict";var o=n(722);n.d(e,"a",function(){return o.a})},468:function(t,e,n){"use strict";var o=n(725);n.d(e,"a",function(){return o.a})},469:function(t,e,n){"use strict";var o=n(0),r=n(471),i=n(22),a=n(52);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n){this.sanitizer=t,this.donationService=e,this.userService=n,this.targetType="leader",this.label="Підтримати:",this.donationFormHtml="",this.readyToDonate=!1,this.donationsListVisible=!1}return t.prototype.ngOnChanges=function(t){t.target},t.prototype.onDonateToggle=function(){var t=this;return console.log("onDonateToggle:",this.target,this.amount),this.target.totalDonationsReceived+=this.amount,this.donationService.createDonation(this.getDonationModel()).subscribe(function(e){var n=e._body,o=n.substring(1,n.length-1);t.readyToDonate=!t.readyToDonate,t.getDonationForm(o)}),!1},t.prototype.getDonationModel=function(){var t=new r.b,e=this.userService.userProfile,n=e&&e.name||"Анонімний донор";t.targetType=this.targetType,t.targetId=this.target._id,t.donorId=e&&e.email||"Anonymous",t.amount=this.amount,t.dateStarted=new Date;var o=window.location;return t.server_url=o.protocol+"//"+o.host,t.result_url=o.href,console.log("##server_url: ",t.server_url),"leader"===this.targetType?t.description="Переказ "+t.amount+" UAH. Отримувач: "+this.target.name+" "+this.target.surName+". Донор: "+n+". Дякуємо!":"project"===this.targetType?t.description="Переказ "+t.amount+' UAH. Призначення: проект "'+this.target.title+'". Донор: '+n+". Дякуємо!":"task"===this.targetType&&(t.description="Переказ "+t.amount+' UAH. Призначення: захід "'+this.target.title+'". Донор: '+n+". Дякуємо!"),t},t.prototype.getDonationForm=function(t){var e=this,n=this.getDonationModel();return n._id=t,this.donationService.requireSign(n).map(function(t){return t}).subscribe(function(t){var n=t._body.split("-BGPLCXX-"),o='<form method="POST" action="https://www.liqpay.com/api/3/checkout" accept-charset="utf-8"><input type="hidden" name="data" value="'+n[0]+'" /><input type="hidden" name="signature" value="'+n[1]+'" /><button md-raised-button color="accent">Переказати '+e.amount+" UAH</button></form>";e.donationFormHtml=e.sanitizer.bypassSecurityTrustHtml(o)})},t.prototype.onToggleDonationsList=function(){this.donationsListVisible=!this.donationsListVisible},s([n.i(o.Input)(),c("design:type",Object)],t.prototype,"target",void 0),s([n.i(o.Input)(),c("design:type",Number)],t.prototype,"amount",void 0),s([n.i(o.Input)(),c("design:type",Object)],t.prototype,"targetType",void 0),s([n.i(o.Input)(),c("design:type",Object)],t.prototype,"label",void 0),t=s([n.i(o.Component)({selector:"app-bp-donate",template:n(930),styles:[n(908)],providers:[r.a,i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.e&&a.e)&&e||Object,"function"==typeof(d="undefined"!=typeof r.a&&r.a)&&d||Object,"function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object])],t);var e,d,l}()},470:function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(110),a=(n.n(i),n(56));n.n(a);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t){this.http=t,this.apiUrl="/liqpay-api/"}return t.prototype.createDonation=function(t){var e=this.getPostData(t);return this.http.post(this.apiUrl+"create-donation",e.body,e.options)},t.prototype.getDonations=function(t,e,n){var o=this;void 0===t&&(t=""),void 0===e&&(e=""),void 0===n&&(n="leader");var r=this.apiUrl+(e?"target/"+n+"/"+e:t);console.log("Donation Service: get by",r);var i=this.http.get(r).map(function(t){var e=t.json();return e.forEach?e.forEach(function(t){return o.convertTime(t)}):o.convertTime(e),e});return i},t.prototype.convertTime=function(t){t.dateStarted=new Date(t.dateStarted),t.dateCompleted=new Date(t.dateCompleted)},t.prototype.getDonation=function(t){return this.getDonations(t)},t.prototype.requireSign=function(t){var e=this.getPostData(t);return this.http.post(this.apiUrl+"getsgndta",e.body,e.options)},t.prototype.getPostData=function(t){var e=new r.Headers;return e.append("Content-Type","application/x-www-form-urlencoded"),{body:encodeURIComponent(t.toString()),options:new r.RequestOptions({headers:e})}},t=s([n.i(o.Injectable)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}()},471:function(t,e,n){"use strict";var o=(n(469),n(470));n.d(e,"a",function(){return o.a});var r=n(726);n.d(e,"b",function(){return r.a})},472:function(t,e,n){"use strict";var o=n(0),r=n(22);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.user=t}return t.prototype.canActivate=function(){return!0},t=i([n.i(o.Injectable)(),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object])],t);var e}()},473:function(t,e,n){"use strict";var o=n(0),r=n(60),i=n(22);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.userService=t,this.router=e}return t=a([n.i(o.Component)({template:n(932),styles:[n(910)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(c="undefined"!=typeof r.b&&r.b)&&c||Object])],t);var e,c}()},474:function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(1),a=(n.n(i),n(110)),s=(n.n(a),n(56));n.n(s);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.mailApiUrl="/mail-api/"}return t.prototype.share=function(t){var e=encodeURIComponent(JSON.stringify(t)),n=new r.Headers;n.append("Content-Type","application/x-www-form-urlencoded");var o=new r.RequestOptions({headers:n});return this.http.post(this.mailApiUrl+"share",e,o).map(function(t){return t.json()})},t.prototype.handleError=function(t){return console.error("Error occured:",t),i.Observable.throw(t.json().error||"Server error")},t.prototype.getYouTubeThumbnail=function(t,e){var n=this.getYouTubeId(t),o="http://img.youtube.com/vi/",r={small1:"/1.jpg",small2:"/2.jpg",small3:"/3.jpg",full:"/0.jpg"};return null!==n?'<a href="'+this.getUrl()+'" ><img src="'+o+n+r[e]+'" /></a>':""},t.prototype.getUrl=function(){return location.href},t.prototype.getYouTubeId=function(t){void 0===t&&(t="");var e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,n=t.match(e);return n&&11===n[7].length?n[7]:null},t=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}()},475:function(t,e,n){"use strict";var o=n(0),r=n(31),i=n(1),a=(n.n(i),n(110)),s=(n.n(a),n(56));n.n(s);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.http=t,this.apiUrl="/task-api/"}return t.prototype.createTask=function(t){var e=encodeURIComponent(t.toString()),n=new r.Headers;n.append("Content-Type","application/x-www-form-urlencoded");var o=new r.RequestOptions({headers:n});return this.http.post(this.apiUrl,e,o).map(function(t){return t.json()})},t.prototype.getTasks=function(t,e){var n=this;void 0===t&&(t=""),void 0===e&&(e="");var o=this.apiUrl+(e?"project/"+e:t),r=this.http.get(o).map(function(t){var e=t.json();return e.forEach?e.forEach(function(t){return n.convertTime(t)}):n.convertTime(e),e});return r},t.prototype.convertTime=function(t){t.dateStarted=new Date(t.dateStarted),t.dateEnded=new Date(t.dateEnded)},t.prototype.getTask=function(t){return this.getTasks(t)},t.prototype.updateTask=function(t){var e=new r.Headers;return e.append("Content-Type","application/json"),this.http.put(this.apiUrl+t._id,t.toString(),{headers:e}).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.deleteTask=function(t){this.http.delete(this.apiUrl+t._id).map(function(t){return console.log("Task deleted:",t.json())}).catch(this.handleError).subscribe()},t.prototype.handleError=function(t){return console.error("Error occured:",t),i.Observable.throw(t.json().error||"Server error")},t=c([n.i(o.Injectable)(),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.Http&&r.Http)&&e||Object])],t);var e}()},476:function(t,e,n){"use strict";var o=n(0),r=n(22),i=n(137);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.userService=t,this.leaderService=e,this.leader=new i.b,console.log("Profile constructor")}return t.prototype.ngOnInit=function(){var t=this;this.leaderService.getLeaders().subscribe(function(e){var n=t.userService.userProfile&&t.userService.userProfile.email;console.log("Profile got leader",n),t.leader=t.leaderService.getLeaderByEmail(n)},function(t){return console.error(t)},function(){})},t=a([n.i(o.Component)({template:n(936),styles:[n(914)]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},477:function(t,e,n){"use strict";var o=n(739);n.d(e,"a",function(){return o.a})},478:function(t,e,n){"use strict";var o=n(740);n.d(e,"a",function(){return o.a})},479:function(t,e,n){"use strict";var o=n(741);n.d(e,"a",function(){return o.a})},553:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=553},554:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(684),r=n(0),i=n(742),a=n(716);i.a.production&&n.i(r.enableProdMode)(),n.i(o.a)().bootstrapModule(a.a)},713:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){this.dateInit=new Date("Jun 1 2016"),this.dateNow=new Date}return t=r([n.i(o.Component)({selector:"app-about",template:n(920),styles:[n(305),n(898)]}),i("design:paramtypes",[])],t)}()},714:function(t,e,n){"use strict";var o=n(52),r=n(0),i=n(40),a=n(31),s=n(60),c=n(665),d=n(728),l=n(477),p=n(478),u=n(479),f=n(467),m=n(466),h=n(723),b=n(468),g=n(463),y=n(464),v=n(465),j=n(476),w=n(473),k=n(460),x=n(462),O=n(715),I=n(22),R=n(285),P=n(194),S=n(475),_=n(474),D=n(470),T=n(472),M=n(461),L=n(733),E=n(469),U=n(727),C=n(737),z=n(738);n.d(e,"a",function(){return V});var H=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},F=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},V=function(){function t(){}return t=H([n.i(r.NgModule)({declarations:[d.a,d.b,l.a,u.a,p.a,f.a,m.a,b.a,h.a,g.a,v.a,y.a,j.a,w.a,k.a,x.a,L.a,E.a,U.a,C.a,z.a,M.a],imports:[O.a,o.a,s.a,i.a,c.MaterialModule.forRoot(),a.HttpModule],providers:[T.a,I.a,R.a,P.a,S.a,_.a,D.a],bootstrap:[M.a]}),F("design:paramtypes",[])],t)}()},715:function(t,e,n){"use strict";var o=n(60),r=n(472),i=n(473),a=n(476),s=n(460),c=n(462),d=n(463),l=n(464),p=n(465),u=n(467),f=n(466),m=n(468),h=n(477),b=n(478),g=n(479);n.d(e,"a",function(){return v});var y=[{path:"leader/:id/edit",component:d.a},{path:"project/:id/edit",component:f.a},{path:"task/:id/edit",component:h.a},{path:"leader/:id",component:p.a},{path:"project/:id",component:m.a},{path:"task/:id",component:g.a},{path:"leaders",component:l.a},{path:"projects",component:u.a},{path:"tasks",component:b.a},{path:"add-leader",component:d.a},{path:"add-project",component:f.a},{path:"add-task",component:h.a},{path:"profile",component:a.a,canActivate:[r.a]},{path:"login",component:i.a},{path:"about",component:s.a},{path:"",component:c.a}],v=o.a.forRoot(y)},716:function(t,e,n){"use strict";var o=(n(461),n(714));n.d(e,"a",function(){return o.a})},717:function(t,e,n){"use strict";var o=n(0),r=n(105),i=n(137);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e){this.projectService=t,this.leaderService=e,this.app={donors:0,totalDonationsReceived:0,projects:[],leaders:[]}}return t.prototype.ngOnInit=function(){this.getProjects(),this.getLeaders()},t.prototype.getLeaders=function(){var t=this;this.leaderService.getLeaders().subscribe(function(e){return t.setLeaders(e)},function(t){return console.error(t)},function(){return t.app.leaders})},t.prototype.setLeaders=function(t){return this.app.leaders=t,t},t.prototype.getProjects=function(){var t=this;this.projectService.getProjects().subscribe(function(e){return t.setProjects(e)},function(t){return console.error(t)},function(){return t.app.projects})},t.prototype.setProjects=function(t){return this.app.projects=t,t},t.prototype.supportLeader=function(){console.log("support leader")},t=a([n.i(o.Component)({selector:"app-bp-landing",template:n(922),styles:[n(919),n(900)],providers:[r.b,i.a]}),s("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.b&&r.b)&&e||Object,"function"==typeof(c="undefined"!=typeof i.a&&i.a)&&c||Object])],t);var e,c}()},718:function(t,e,n){"use strict";var o=n(0),r=n(60),i=n(137),a=n(22);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.route=t,this.router=e,this.leaderService=n,this.userService=o,this.leader=new i.b,
this.isUpdateMode=!1}return t.prototype.ngOnInit=function(){var t=this,e=this.userService.userProfile,n=e?e.name:"";this.leader.name=n.split(" ")[0],this.leader.surName=n.split(" ")[1],this.route.params.map(function(t){return t.id}).subscribe(function(e){console.log("Leader Editor by ID from route params:",e),e&&(t.isUpdateMode=!0,t.leaderService.getLeader(e).subscribe(function(e){t.setLeader(e)},function(t){return console.error(t)},function(){}))})},t.prototype.setLeader=function(t){this.leader=new i.b,this.leader.parseData(t)},t.prototype.deleteLeader=function(t){return this.leaderService.deleteLeader(t),this.router.navigate(["/leaders"]),!1},t.prototype.saveLeader=function(){var t=this;return this.isUpdateMode?this.leaderService.updateLeader(this.leader).subscribe(function(e){t.gotoLeader(e)},function(t){return function(t){return console.error("Leader update error: ",t)}},function(){}):(this.leader.email=this.userService.userProfile.email,this.leaderService.createLeader(this.leader).subscribe(function(e){t.gotoLeader(e)},function(t){return function(t){return console.error("Leader creation error: ",t)}},function(){})),!1},t.prototype.gotoLeader=function(t){var e=t._id;e&&this.router.navigate(["/leader",e]).then(function(t){})},t=s([n.i(o.Component)({template:n(923),styles:[n(901)],providers:[i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.c&&r.c)&&e||Object,"function"==typeof(d="undefined"!=typeof r.b&&r.b)&&d||Object,"function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object])],t);var e,d,l,p}()},719:function(t,e,n){"use strict";var o=n(0),r=n(137),i=n(31),a=n(22);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n){this.http=t,this.leaderService=e,this.user=n,this.leadersUrl="/leader-api/",this.leaders=[]}return t.prototype.ngOnInit=function(){this.getLeaders()},t.prototype.getLeaders=function(){var t=this;this.leaderService.getLeaders().subscribe(function(e){return t.setLeaders(e)},function(t){return console.error(t)},function(){return t.leaders})},t.prototype.setLeaders=function(t){return this.leaders=t,t},t.prototype.deleteLeader=function(t){var e=this.leaders.indexOf(t);return this.leaders.splice(e,1),this.leaderService.deleteLeader(t),!1},t=s([n.i(o.Component)({selector:"app-leader-list",template:n(924),styles:[n(902)],providers:[r.a,a.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.Http&&i.Http)&&e||Object,"function"==typeof(d="undefined"!=typeof r.a&&r.a)&&d||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],t);var e,d,l}()},720:function(t,e,n){"use strict";var o=n(0),r=n(137),i=n(22),a=n(60);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.router=t,this.route=e,this.leaderService=n,this.user=o,this.leader=new r.b}return t.prototype.ngOnInit=function(){var t=this;this.route.params.map(function(t){return t.id}).subscribe(function(e){e&&t.leaderService.getLeader(e).subscribe(function(e){t.setLeader(e)},function(t){return console.error(t)},function(){})})},t.prototype.setLeader=function(t){this.leader=t},t.prototype.deleteLeader=function(t){return this.leaderService.deleteLeader(t),this.router.navigate(["/leaders"]),!1},t=s([n.i(o.Component)({template:n(925),styles:[n(903)],providers:[r.a,i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.b&&a.b)&&e||Object,"function"==typeof(d="undefined"!=typeof a.c&&a.c)&&d||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object,"function"==typeof(p="undefined"!=typeof i.a&&i.a)&&p||Object])],t);var e,d,l,p}()},721:function(t,e,n){"use strict";var o=n(0),r=n(60),i=n(105),a=n(22),s=n(285);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e,n,o,r){this.route=t,this.router=e,this.projectService=n,this.userService=o,this.leaderService=r,this.isUpdateMode=!1,this.project=new i.a}return Object.defineProperty(t.prototype,"showTasks",{get:function(){return this.isUpdateMode},enumerable:!0,configurable:!0}),t.prototype.getLeader=function(){var t=this.leaderService.getLeaderByEmail(this.userService.userProfile.email);return t},t.prototype.ngOnInit=function(){var t=this;this.leaderService.getLeaders().subscribe(),this.route.params.map(function(t){return t.id}).subscribe(function(e){e&&(t.isUpdateMode=!0,t.projectService.getProject(e).subscribe(function(e){t.setProject(e)},function(t){return console.error(t)},function(){}))})},t.prototype.setProject=function(t){this.project=new i.a,this.project.parseData(t)},t.prototype.deleteProject=function(t){return this.projectService.deleteProject(t),this.router.navigate(["/projects"]),!1},t.prototype.saveProject=function(){var t=this;if(this.isUpdateMode)this.projectService.updateProject(this.project).subscribe(function(e){t.gotoProject(e)},function(t){return function(t){return console.error("Project update error: ",t)}},function(){});else{var e=this.getLeader();this.project.managerId=e._id,this.project.managerEmail=e.email,this.project.managerName=e.name+" "+e.surName,this.projectService.createProject(this.project).subscribe(function(e){t.gotoProject(e)},function(t){return function(t){return console.error("Project creation error: ",t)}},function(){})}return!1},t.prototype.gotoProject=function(t){var e=t._id;e&&(console.log("𝕱 𝕱 𝕱 Go to project by ID: ",e),this.router.navigate(["/project",e]).then(function(t){}))},t=c([n.i(o.Component)({template:n(926),styles:[n(904)],providers:[i.b,s.a]}),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.c&&r.c)&&e||Object,"function"==typeof(l="undefined"!=typeof r.b&&r.b)&&l||Object,"function"==typeof(p="undefined"!=typeof i.b&&i.b)&&p||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],t);var e,l,p,u,f}()},722:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return a});var r=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=function(){function t(){}return t=r([n.i(o.Component)({selector:"app-projects",template:n(927),styles:[n(905)]}),i("design:paramtypes",[])],t)}()},723:function(t,e,n){"use strict";var o=n(724);n.d(e,"a",function(){return o.a})},724:function(t,e,n){"use strict";var o=n(307),r=(n.n(o),n(78)),i=(n.n(r),n(0)),a=n(105),s=n(31),c=n(22);n.d(e,"a",function(){return p});var d=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n){this.projectService=t,this.user=e,this.http=n,this.maxCount=100,this.projects=new r.BehaviorSubject([{title:"Loading..."}]),this.isAddingTaskMode=!1}return t.prototype.ngOnChanges=function(t){t.leaderId&&t.leaderId.currentValue?this.requestProjects(t.leaderId.currentValue):t.maxCount&&t.maxCount.currentValue&&this.requestProjects(null,t.maxCount.currentValue)},t.prototype.requestProjects=function(t,e){var n=this;void 0===t&&(t=""),void 0===e&&(e=100);var o=this.projectService.getProjects("",t,e).subscribe(function(t){n.projects.next(t),o.unsubscribe()})},t.prototype.deleteProject=function(t){var e;return this.projects.subscribe(function(n){e=n.filter(function(e){return e._id!==t._id})}),this.projects.next(e),console.log("removed index:",t,e),this.projectService.deleteProject(t),!1},d([n.i(i.Input)(),l("design:type",Object)],t.prototype,"leaderId",void 0),d([n.i(i.Input)(),l("design:type",Object)],t.prototype,"maxCount",void 0),t=d([n.i(i.Component)({selector:"app-project-list",template:n(928),styles:[n(906)],providers:[a.b,c.a],changeDetection:i.ChangeDetectionStrategy.OnPush}),l("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.b&&a.b)&&e||Object,"function"==typeof(o="undefined"!=typeof c.a&&c.a)&&o||Object,"function"==typeof(p="undefined"!=typeof s.Http&&s.Http)&&p||Object])],t);var e,o,p}()},725:function(t,e,n){"use strict";var o=n(0),r=n(60),i=n(22),a=n(105);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.router=t,this.route=e,this.projectService=n,this.user=o,this.project=new a.a}return t.prototype.ngOnInit=function(){var t=this;this.route.params.map(function(t){return t.id}).subscribe(function(e){t.loadProject(e)})},t.prototype.loadProject=function(t){var e=this;t&&this.projectService.getProject(t).subscribe(function(t){e.setProject(t)},function(t){return console.error(t)},function(){})},t.prototype.setProject=function(t){this.project=new a.a,this.project.parseData(t),a.b.cacheProject(this.project)},t.prototype.deleteProject=function(t){return this.projectService.deleteProject(t),this.router.navigate(["/projects"]),!1},t=s([n.i(o.Component)({selector:"app-project-view",template:n(929),styles:[n(305),n(907)],providers:[a.b,i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.b&&r.b)&&e||Object,"function"==typeof(d="undefined"!=typeof r.c&&r.c)&&d||Object,"function"==typeof(l="undefined"!=typeof a.b&&a.b)&&l||Object,"function"==typeof(p="undefined"!=typeof i.a&&i.a)&&p||Object])],t);var e,d,l,p}()},726:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this.virtual=!1,this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateCompleted),this.status="unfinished"}return t.prototype.toString=function(){return JSON.stringify({_id:this._id,donorId:this.donorId,virtual:this.virtual,targetId:this.targetId,externalId:this.externalId,targetType:this.targetType,amount:this.amount,dateStarted:this.toDateInputValue(this.dateStarted),dateEnded:this.toDateInputValue(this.dateCompleted),description:this.description,result_url:this.result_url,server_url:this.server_url,status:this.status})},t.prototype.parseData=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateCompleted)},t.prototype.toDateInputValue=function(t){if(!t)return"";var e=new Date(t),n=new Date(t);return n.setMinutes(e.getMinutes()-e.getTimezoneOffset()),n.toJSON().slice(0,10)},t}()},727:function(t,e,n){"use strict";var o=n(307),r=(n.n(o),n(78)),i=(n.n(r),n(0)),a=n(471),s=n(31);n.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.donationService=t,this.http=e,this.donations=new r.BehaviorSubject([{title:"Loading..."}])}return t.prototype.ngOnChanges=function(t){var e=t.target.currentValue;e&&e._id&&this.requestDonations(e)},t.prototype.requestDonations=function(t){var e=this,n=this.donationService.getDonations("",t._id,this.targetType).subscribe(function(t){e.donations.next(t),n.unsubscribe()})},c([n.i(i.Input)(),d("design:type",Object)],t.prototype,"target",void 0),c([n.i(i.Input)(),d("design:type",String)],t.prototype,"targetType",void 0),t=c([n.i(i.Component)({selector:"app-donations-list",template:n(931),styles:[n(909)],providers:[a.a],changeDetection:i.ChangeDetectionStrategy.OnPush}),d("design:paramtypes",["function"==typeof(e="undefined"!=typeof a.a&&a.a)&&e||Object,"function"==typeof(o="undefined"!=typeof s.Http&&s.Http)&&o||Object])],t);var e,o}()},728:function(t,e,n){"use strict";var o=n(730);n.d(e,"a",function(){return o.a});var r=n(735);n.d(e,"b",function(){return r.a})},729:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this.totalDonationsReceived=0}return t.prototype.toString=function(){return JSON.stringify({name:this.name,surName:this.surName,parentName:this.parentName=" ",vision:this.vision,mission:this.mission,photo:this.photo,videoUrl:this.videoUrl,logo:this.logo,email:this.email,party:this.party,officialPost:this.officialPost,socialNetworks:this.socialNetworks,skills:this.skills,docActionPlan:this.docActionPlan,docElectionProgram:this.docElectionProgram,docPropertyDeclaration:this.docPropertyDeclaration,docCriminalRecord:this.docCriminalRecord,docCorruptionRecord:this.docCorruptionRecord,docPassport:this.docPassport,totalDonationsReceived:this.totalDonationsReceived,projects:this.projects,donations:this.donations})},t.prototype.parseData=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},t}()},730:function(t,e,n){"use strict";var o=n(731);n.d(e,"a",function(){return o.a})},731:function(t,e,n){"use strict";var o=n(0),r=n(22);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.userService=t}return t=i([n.i(o.Component)({selector:"app-bp-navbar",template:n(933),styles:[n(911)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object])],t);var e}()},732:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this.cost=1,this.managerName="John Doe",this.managerId="",this.managerEmail="",this.dateStarted=new Date,this.dateEnded=new Date,this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateEnded),this.videoUrl="",this.totalDonationsReceived=0}return t.prototype.toString=function(){return JSON.stringify({title:this.title,description:this.description,cost:this.cost,managerName:this.managerName,managerId:this.managerId,managerEmail:this.managerEmail,dateStarted:this.startDateInputValue,dateEnded:this.endDateInputValue,iconURL:this.iconURL,videoUrl:this.videoUrl,tasks:this.tasks,totalDonationsReceived:this.totalDonationsReceived})},t.prototype.parseData=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateEnded)},t.prototype.toDateInputValue=function(t){var e=new Date(t),n=new Date(t);return n.setMinutes(e.getMinutes()-e.getTimezoneOffset()),n.toJSON().slice(0,10)},t}()},733:function(t,e,n){"use strict";var o=n(0),r=n(105),i=n(474),a=n(40);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t){this.shareService=t,this.sharerIsVisible=!1,this.formStatus="",this.emailSent=!1,this.textToReader="Друже, хочу поділитися з тобою своїм задумом: ",this.showEmailPreview=!0,this.showHtmlPreview=!1,this.formErrors={toEmail:""},this.validationMessages={toEmail:{required:"Будь ласка, заповніть поле",validateEmail:"Будь ласка, уведіть коректну адресу"}},this.emailToShare={from:"",toEmails:{},subject:"",html:"",videoUrl:""}}return t.prototype.getFormState=function(t){return this.formStatus===t},t.prototype.ngAfterViewChecked=function(){this.formChanged()},t.prototype.formChanged=function(){var t=this;this.currentForm!==this.shareForm&&(this.shareForm=this.currentForm,this.shareForm&&this.shareForm.valueChanges.subscribe(function(e){return t.onValueChanged(e)}))},t.prototype.handleInputBlur=function(t){this.onValueChanged(t)},t.prototype.onValueChanged=function(t){if(this.shareForm){var e=this.shareForm.form;for(var n in this.formErrors)if(this.formErrors.hasOwnProperty(n)){this.formErrors[n]="";var o=e.get(n);if(o&&(o.dirty||o.touched)&&!o.valid){var r=this.validationMessages[n];for(var i in o.errors)o.errors.hasOwnProperty(i)&&(this.formErrors[n]+=r[i]+" ")}}}},Object.defineProperty(t.prototype,"videoUrl",{get:function(){return this.emailToShare.videoUrl||this.project.videoUrl||""},set:function(t){this.emailToShare.videoUrl=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"emailSubject",{get:function(){return'Проект "'+this.project.title+'" - BigPolicy'},enumerable:!0,configurable:!0}),t.prototype.shareItem=function(){var t=this;return this.shareForm.form.valid?(this.formStatus="emailIsBeingSent",this.emailToShare.html=this.emailHtml,this.emailToShare.from=this.project.managerEmail,this.emailToShare.subject=this.emailSubject,this.emailToShare.toEmails[this.toEmail]=this.toEmail,this.shareService.share(this.emailToShare).subscribe(function(e){t.formStatus="emailSent",console.log("Project Shared",e)},function(e){return function(e){t.formStatus="emailSendError",console.error("Project creation error: ",e)}},function(){}),!1):(this.formStatus="formIsNotComplete",!1)},Object.defineProperty(t.prototype,"emailHtml",{get:function(){return this.textToReader+'<h1 align="center" class="emailH1">\n            '+this.project.title+'</h1>\n            <p style="display:none;">\n            '+this.project.description+'<br><br></p><p align="center">\n            '+this.shareService.getYouTubeThumbnail(this.videoUrl,"full")+'\n            <br>\n            <br>\n            <a href="'+this.shareService.getUrl()+'">Тут можна детальніше переглянути проект</a>\n            <br>\n            <br>\n            </p>\n            <p>Щиро вдячний,<br>'+this.project.managerName+"<br>\n            <small>"+this.project.managerEmail+'</small></p>\n            \n            <a href="http://bigpolicy.eu/"><img src="http://bigpolicy.eu/assets/img/logo.png" width="40"></a>'},enumerable:!0,configurable:!0}),t.prototype.autoExpand=function(t){console.log("auto expa: ",t);var e="object"==typeof t?t.target:document.getElementById(t);e.clientHeight<e.scrollHeight&&(e.style.height=e.scrollHeight+"px",e.clientHeight<e.scrollHeight&&(e.style.height=2*e.scrollHeight-e.clientHeight+"px"))},t.prototype.showSharer=function(){return this.sharerIsVisible=!this.sharerIsVisible,!1},t.prototype.toggleEmailPreview=function(){return this.showEmailPreview=!this.showEmailPreview,!1},t.prototype.toggleHtmlPreview=function(){return this.showHtmlPreview=!this.showHtmlPreview,!1},s([n.i(o.Input)(),c("design:type",Object)],t.prototype,"sharerIsVisible",void 0),s([n.i(o.Input)(),c("design:type","function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object)],t.prototype,"project",void 0),s([n.i(o.ViewChild)("shareForm"),c("design:type","function"==typeof(d="undefined"!=typeof a.f&&a.f)&&d||Object)],t.prototype,"currentForm",void 0),t=s([n.i(o.Component)({selector:"app-bp-sharer",template:n(934),styles:[n(912)],providers:[i.a],animations:[n.i(o.trigger)("visibilityChanged",[n.i(o.state)("true",n.i(o.style)({opacity:1})),n.i(o.state)("false",n.i(o.style)({opacity:.2})),n.i(o.transition)("1 => 0",n.i(o.animate)("600ms")),n.i(o.transition)("0 => 1",n.i(o.animate)("400ms"))])]}),c("design:paramtypes",["function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object])],t);var e,d,l}()},734:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this.cost=1,this.projectId="",this.project=null,this.dateStarted=new Date,this.dateEnded=new Date,this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateEnded),this.totalDonationsReceived=0}return t.prototype.toString=function(){return JSON.stringify({title:this.title,description:this.description,cost:this.cost,projectId:this.projectId,dateStarted:this.startDateInputValue,dateEnded:this.endDateInputValue,iconURL:this.iconURL,videoUrl:this.videoUrl,totalDonationsReceived:this.totalDonationsReceived})},t.prototype.parseData=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.startDateInputValue=this.toDateInputValue(this.dateStarted),this.endDateInputValue=this.toDateInputValue(this.dateEnded)},t.prototype.toDateInputValue=function(t){var e=new Date(t),n=new Date(t);return n.setMinutes(e.getMinutes()-e.getTimezoneOffset()),n.toJSON().slice(0,10)},t}()},735:function(t,e,n){"use strict";var o=n(736);n.d(e,"a",function(){return o.a})},736:function(t,e,n){"use strict";var o=n(0),r=n(22);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.userService=t,this.isDarkTheme=!1}return t=i([n.i(o.Component)({selector:"app-bp-toolbar",template:n(935),styles:[n(913)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.a&&r.a)&&e||Object])],t);var e}()},737:function(t,e,n){"use strict";function o(t){return function(e){var n=e.value,o=t.test(n);return o?null:{validateEmail:{name:n}}}}var r=n(0),i=n(40);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.valFn=i.d.nullValidator}return t.prototype.ngOnChanges=function(t){var e=t.validateEmail;if(e){var n=e.currentValue,r=n instanceof RegExp?n:new RegExp(n,"i");this.valFn=o(r)}else this.valFn=i.d.nullValidator},t.prototype.validate=function(t){return this.valFn(t)},a([n.i(r.Input)(),s("design:type",String)],t.prototype,"validateEmail",void 0),t=a([n.i(r.Directive)({selector:"[appValidateEmail]",providers:[{provide:i.e,useExisting:t,multi:!0}]}),s("design:paramtypes",[])],t)}()},738:function(t,e,n){"use strict";var o=n(0),r=n(52);n.d(e,"a",function(){return s});var i=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.sanitizer=t,this.title=""}return Object.defineProperty(t.prototype,"videoUrl",{set:function(t){if(t){var e=t.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/);this.youTubeId=e&&11===e[7].length?e[7]:null,this.safeMediaUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.youTubeId?"https://www.youtube.com/embed/"+this.youTubeId:null),this.thumbUrl=this.youTubeId?"http://img.youtube.com/vi/"+this.youTubeId+"/0.jpg":"assets/img/project/project-placeholder.png"}},enumerable:!0,configurable:!0}),i([n.i(o.Input)(),a("design:type",Object)],t.prototype,"title",void 0),i([n.i(o.Input)(),a("design:type",String)],t.prototype,"placeholderUrl",void 0),i([n.i(o.Input)(),a("design:type",String),a("design:paramtypes",[String])],t.prototype,"videoUrl",null),t=i([n.i(o.Component)({selector:"app-bp-video",template:n(937),styles:[n(915)]}),a("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.e&&r.e)&&e||Object])],t);var e}()},739:function(t,e,n){"use strict";var o=n(0),r=n(60),i=n(286),a=n(22);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.route=t,this.router=e,this.taskService=n,this.userService=o,this.projectId="",this.isUpdateMode=!1,this.task=new i.b}return t.prototype.ngOnInit=function(){var t=this;console.log("Task Editor Initialization, provided Project Id:",this.projectId),this.projectId||this.route.params.map(function(t){return console.log("Route params:",t),t.id}).subscribe(function(e){console.log("Task Editor by ID from route params:",e),e&&t.taskService.getTask(e).subscribe(function(e){t.parseLoadedTask(e)})})},t.prototype.parseLoadedTask=function(t){console.log("Set task:",t,", project =",t.projectId),this.isUpdateMode=!0,this.task=new i.b,this.task.parseData(t)},t.prototype.deleteTask=function(t){return this.taskService.deleteTask(t),this.router.navigate(["/project/"+t.projectId]),!1},t.prototype.saveTask=function(){var t=this;return this.isUpdateMode?this.taskService.updateTask(this.task).subscribe(function(e){t.gotoTask(e)},function(t){return function(t){return console.error("Task update error: ",t)}},function(){}):(this.task.projectId=this.projectId,console.log("idd =",this.task.projectId),this.taskService.createTask(this.task).subscribe(function(e){t.gotoTask(e)},function(t){return function(t){return console.error("Task creation error: ",t)}},function(){})),!1},t.prototype.gotoTask=function(t){var e=t._id;e&&(console.log("𝕱 𝕱 𝕱 Go to task by ID: ",e),this.router.navigate(["/task",e]).then(function(t){}))},s([n.i(o.Input)(),c("design:type",Object)],t.prototype,"projectId",void 0),t=s([n.i(o.Component)({selector:"app-bp-task-edit",template:n(938),styles:[n(916)],providers:[i.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof r.c&&r.c)&&e||Object,"function"==typeof(d="undefined"!=typeof r.b&&r.b)&&d||Object,"function"==typeof(l="undefined"!=typeof i.a&&i.a)&&l||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object])],t);var e,d,l,p}()},740:function(t,e,n){"use strict";var o=n(307),r=(n.n(o),n(78)),i=(n.n(r),n(0)),a=n(286),s=n(105),c=n(31),d=n(22);n.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n){this.taskService=t,this.user=e,this.http=n,this.tasks=new r.BehaviorSubject([{title:"Loading..."}]),this.isAddingTaskMode=!1}return t.prototype.ngOnChanges=function(t){var e=t.project.currentValue;e&&e._id&&this.requestTasks(e._id)},t.prototype.requestTasks=function(t){var e=this,n=this.taskService.getTasks("",t).subscribe(function(t){e.tasks.next(t),n.unsubscribe()})},t.prototype.addTask=function(){return this.isAddingTaskMode=!0,!1},t.prototype.deleteTask=function(t){var e;return this.tasks.subscribe(function(n){e=n.filter(function(e){return e._id!==t._id})}),this.tasks.next(e),this.taskService.deleteTask(t),!1},l([n.i(i.Input)(),p("design:type","function"==typeof(e="undefined"!=typeof s.a&&s.a)&&e||Object)],t.prototype,"project",void 0),t=l([n.i(i.Component)({selector:"app-task-list",template:n(939),styles:[n(917)],providers:[a.a,d.a],changeDetection:i.ChangeDetectionStrategy.OnPush}),p("design:paramtypes",["function"==typeof(o="undefined"!=typeof a.a&&a.a)&&o||Object,"function"==typeof(u="undefined"!=typeof d.a&&d.a)&&u||Object,"function"==typeof(f="undefined"!=typeof c.Http&&c.Http)&&f||Object])],t);var e,o,u,f}()},741:function(t,e,n){"use strict";var o=n(0),r=n(286),i=n(60),a=n(22);n.d(e,"a",function(){return d});var s=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=function(){function t(t,e,n,o){this.router=t,this.route=e,this.taskService=n,this.user=o,
this.task=new r.b}return t.prototype.ngOnInit=function(){var t=this;this.route.params.map(function(t){return t.id}).subscribe(function(e){e&&t.taskService.getTask(e).subscribe(function(e){t.setTask(e)})})},t.prototype.setTask=function(t){this.task=t},t.prototype.deleteTask=function(t){return this.taskService.deleteTask(t),this.router.navigate(["/project/"+t.projectId]),!1},t=s([n.i(o.Component)({template:n(940),styles:[n(305),n(918)],providers:[r.a,a.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.b&&i.b)&&e||Object,"function"==typeof(d="undefined"!=typeof i.c&&i.c)&&d||Object,"function"==typeof(l="undefined"!=typeof r.a&&r.a)&&l||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object])],t);var e,d,l,p}()},742:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o={production:!0}},898:function(t,e){t.exports=":host{display:block;padding:2em}h1{font-size:3em}h2{font-size:2em;padding-top:0;margin-top:.83em}"},899:function(t,e){t.exports=".app-content,footer{font-family:sans-serif}footer{font-size:.7rem;text-align:right;padding:1em;border-top:1px solid #ccc}"},900:function(t,e){t.exports=":host{display:block;padding:0 16px}.bp-landing .container{width:100%;max-width:inherit}.bp-landing h4{font-size:1.9em;margin-top:.5em;margin-bottom:.5em}.bp-landing h5{font-size:1.5em;margin-top:1.5em;margin-bottom:.5em}md-card{margin:16px 0}p{margin:16px;line-height:1.4}#stats{border-bottom:1px solid #ddd;margin-bottom:1em}#stats md-grid-tile{background:transparent}#stats a{text-decoration:none}.numbers h2{font-size:2em;letter-spacing:normal}.numbers span{color:#f44336;font-weight:700}.bp-landing a:href,.bp-landing a:visited{color:#f44336}.logo{width:9em;margin:0 25px 25px 15px}.topcontent{height:100%}.topcontent.leader img{width:60px;vertical-align:middle;margin-right:1rem}.align-bottom{position:absolute;bottom:2rem;right:1rem}#top-projects md-card-title{font-size:1.2em}#bottomline{background:#eee;min-height:350px}#bottomline .align-bottom{position:absolute;bottom:0;left:1rem;right:0;top:1rem}"},901:function(t,e){t.exports=".leader-edit-card{padding:0}.leader-edit-card md-card-content{padding:24px}.grid{border-style:solid}.one{width:30%}md-input,md-textarea{width:100%}"},902:function(t,e){t.exports=""},903:function(t,e){t.exports=":host{padding:2em;display:block}"},904:function(t,e){t.exports=".project-edit-card md-input,.project-edit-card md-textarea{width:100%}"},905:function(t,e){t.exports=":host{display:block;padding:0}h1{font-size:3em}"},906:function(t,e){t.exports=":host{display:block;padding:0;width:100%}h1{font-size:3em}h2{font-size:2em;padding-top:0;margin-top:.83em}"},907:function(t,e){t.exports=":host{display:block;padding:2em}h1{font-size:3em}h2{font-size:2em}h2,h3{padding-top:0}h3{font-size:1.4em}.project-toolbar{margin-top:2em}"},908:function(t,e){t.exports=":host{display:block;margin-bottom:2em}"},909:function(t,e){t.exports=":host{display:block;padding:2em 0 0}h1{font-size:3em}h2{font-size:2em;padding-top:0;margin-top:.83em}md-card-content>md-card-actions:first-child{margin-left:-1px;margin-right:-1px;margin-top:12px}"},910:function(t,e){t.exports=""},911:function(t,e){t.exports=":host{border-color:#e1e1e1;border-style:solid;border-width:0 0 1px;display:block;height:48px;padding:0 16px}nav{color:#8f8f8f;line-height:48px;margin-top:2px;margin-right:20px}"},912:function(t,e){t.exports=":host{display:block;margin-bottom:2em}.share-card{border:7px dashed #eee;display:none;left:1em;margin-top:-1em;padding-top:1em;position:absolute;right:1em;z-index:100}.display-block{display:block}.share-show{position:absolute;right:2em;z-index:120}h1{margin:0}h2{margin:.5em 0 .25em}.email-subject{color:#sgray;font-size:14px}.email-subject .span{color:#bbb;text-align:right}.textarea-label{color:rgba(0,0,0,.38);display:block;font-size:.75em;margin:1.4em 0 0}.bt-input{margin-top:1em}.wide{width:100%}.video-input{display:none;position:absolute}.bp-textarea-wrapper{left:1.7em;position:absolute;right:1.7em;top:12.9em}.bp-textarea{border:0 solid transparent;border-bottom:1px solid #eee;box-sizing:border-box;color:#000;font-family:Roboto,Helvetica Neue,sans-serif;font-size:14px;height:20px;letter-spacing:normal;line-height:120%;outline:none;overflow:hidden;padding:0;padding-bottom:1px;width:100%}.bp-textarea :focus{border-bottom:2px solid #777;color:#777;padding-bottom:0}.email-preview{margin-top:1em}.email-preview,.mailtext{font-size:18px;line-height:120%}.bp-pre-html{background-color:#000;box-sizing:border-box;color:#0f0;font-family:Andale Mono,monospace;font-size:11px;line-height:160%;margin:2em 0 1em;padding:1em;width:100%}.alert,.alert-danger{color:#f44336;float:right;font-size:.9em;margin-top:-2.3em;position:relative}"},913:function(t,e){t.exports="md-toolbar-row{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}a{cursor:pointer;color:#fff;text-decoration:none}.toolbar-inline-icon,a,div,p,span{font-size:1em;vertical-align:middle}.username{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:right}"},914:function(t,e){t.exports=""},915:function(t,e){t.exports=".bp-video-iframed{width:400px;height:222px}"},916:function(t,e){t.exports=".task-edit-view md-input,.task-edit-view md-textarea{width:100%}:host.add-project-inline .task-edit-view{margin-top:1em}"},917:function(t,e){t.exports=":host{display:block;padding:0}h1{font-size:3em}h2{font-size:2em;padding-top:0;margin-top:.83em}md-card-content>md-card-actions:first-child{margin-left:-1px;margin-right:-1px;margin-top:12px}"},918:function(t,e){t.exports="md-card{display:inline-block}.task-view{width:100%}:host{display:block}h1{font-size:3em}h2{font-size:2em}h2,h3{padding-top:0}h3{font-size:1.4em}"},919:function(t,e){t.exports='.container{position:relative;max-width:960px;margin:0 auto;padding:0 20px}.column,.columns,.container{width:100%;box-sizing:border-box}.column,.columns{float:left}@media (min-width:400px){.container{width:85%;padding:0}}@media (min-width:550px){.container{width:80%}.column,.columns{margin-left:4%}.column:first-child,.columns:first-child{margin-left:0}.one.column,.one.columns{width:4.66666666667%}.two.columns{width:13.3333333333%}.three.columns{width:22%}.four.columns{width:30.6666666667%}.five.columns{width:39.3333333333%}.six.columns{width:48%}.seven.columns{width:56.6666666667%}.eight.columns{width:65.3333333333%}.nine.columns{width:74%}.ten.columns{width:82.6666666667%}.eleven.columns{width:91.3333333333%}.twelve.columns{width:100%;margin-left:0}.one-third.column{width:30.6666666667%}.two-thirds.column{width:65.3333333333%}.one-half.column{width:48%}.offset-by-one.column,.offset-by-one.columns{margin-left:8.66666666667%}.offset-by-two.column,.offset-by-two.columns{margin-left:17.3333333333%}.offset-by-three.column,.offset-by-three.columns{margin-left:26%}.offset-by-four.column,.offset-by-four.columns{margin-left:34.6666666667%}.offset-by-five.column,.offset-by-five.columns{margin-left:43.3333333333%}.offset-by-six.column,.offset-by-six.columns{margin-left:52%}.offset-by-seven.column,.offset-by-seven.columns{margin-left:60.6666666667%}.offset-by-eight.column,.offset-by-eight.columns{margin-left:69.3333333333%}.offset-by-nine.column,.offset-by-nine.columns{margin-left:78%}.offset-by-ten.column,.offset-by-ten.columns{margin-left:86.6666666667%}.offset-by-eleven.column,.offset-by-eleven.columns{margin-left:95.3333333333%}.offset-by-one-third.column,.offset-by-one-third.columns{margin-left:34.6666666667%}.offset-by-two-thirds.column,.offset-by-two-thirds.columns{margin-left:69.3333333333%}.offset-by-one-half.column,.offset-by-one-half.columns{margin-left:52%}}html{font-size:62.5%}body{font-size:1.5em;line-height:1.6;font-weight:400;font-family:Raleway,HelveticaNeue,Helvetica Neue,Helvetica,Arial,sans-serif;color:#222}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:2rem;font-weight:300}h1{font-size:4rem;line-height:1.2}h1,h2{letter-spacing:-.1rem}h2{font-size:3.6rem;line-height:1.25}h3{font-size:3rem;line-height:1.3;letter-spacing:-.1rem}h4{font-size:2.4rem;line-height:1.35;letter-spacing:-.08rem}h5{font-size:1.8rem;line-height:1.5;letter-spacing:-.05rem}h6{font-size:1.5rem;line-height:1.6;letter-spacing:0}@media (min-width:550px){h1{font-size:5rem}h2{font-size:4.2rem}h3{font-size:3.6rem}h4{font-size:3rem}h5{font-size:2.4rem}h6{font-size:1.5rem}}p{margin-top:0}a{color:#1eaedb}a:hover{color:#0fa0ce}.button,button,input[type=button],input[type=reset],input[type=submit]{display:inline-block;text-decoration:none;white-space:nowrap;cursor:pointer;box-sizing:border-box}.button:focus,.button:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=reset]:focus,input[type=reset]:hover,input[type=submit]:focus,input[type=submit]:hover{color:#333;border-color:#888;outline:0}.button.button-primary,button.button-primary,input[type=button].button-primary,input[type=reset].button-primary,input[type=submit].button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}.button.button-primary:focus,.button.button-primary:hover,button.button-primary:focus,button.button-primary:hover,input[type=button].button-primary:focus,input[type=button].button-primary:hover,input[type=reset].button-primary:focus,input[type=reset].button-primary:hover,input[type=submit].button-primary:focus,input[type=submit].button-primary:hover{color:#fff;background-color:#1eaedb;border-color:#1eaedb}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],select,textarea{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}input[type=email],input[type=number],input[type=password],input[type=search],input[type=tel],input[type=text],input[type=url],textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none}textarea{min-height:65px;padding-top:6px;padding-bottom:6px}input[type=email]:focus,input[type=number]:focus,input[type=password]:focus,input[type=search]:focus,input[type=tel]:focus,input[type=text]:focus,input[type=url]:focus,select:focus,textarea:focus{border:1px solid #33c3f0;outline:0}label,legend{display:block;margin-bottom:.5rem;font-weight:600}fieldset{padding:0;border-width:0}input[type=checkbox],input[type=radio]{display:inline}label>.label-body{display:inline-block;margin-left:.5rem;font-weight:400}ul{list-style:circle inside}ol{list-style:decimal inside}ol,ul{padding-left:0;margin-top:0}ol ol,ol ul,ul ol,ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}li{margin-bottom:1rem}code{padding:.2rem .5rem;margin:0 .2rem;font-size:90%;white-space:nowrap;background:#f1f1f1;border:1px solid #e1e1e1;border-radius:4px}pre>code{display:block;padding:1rem 1.5rem;white-space:pre}td,th{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}.button,button{margin-bottom:1rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}.u-full-width{width:100%;box-sizing:border-box}.u-max-full-width{max-width:100%;box-sizing:border-box}.u-pull-right{float:right}.u-pull-left{float:left}hr{margin-top:3rem;margin-bottom:3.5rem;border-width:0;border-top:1px solid #e1e1e1}.container:after,.row:after,.u-cf{content:"";display:table;clear:both}'},920:function(t,e){t.exports='<h1>Про проект</h1>\n\n<p>BigPolicy є платформою політичного спонсорства, що складається з сайту та\n  додатків для збору коштів у мережі інтернет, плюс офлайн-носії.\n  Наші принципи: прозорість, відкритість, інституційність, опора на здоровий глузд.</p>\n\n<p><a href="http://www.slideshare.net/prokopenkoserhii?utm_campaign=profiletracking&utm_medium=sssite&utm_source=ssslideview">Презентація</a>:</p>\n<iframe src="http://www.slideshare.net/prokopenkoserhii/slideshelf" width="760px" height="570px" frameborder="0" marginwidth="0" marginheight="0" scrolling="no" style="border:none;" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>\n\n<h2>Команда</h2>\n<ul>\n  <li><a href="https://www.facebook.com/rastislavr">Ростислав Сірик</a> - UX, Angular, Material 2</li>\n  <li><a href="https://www.facebook.com/Oleksiy.Shnira">Олексій Шніра</a> - бек-енд</li>\n  <li><a href="https://www.facebook.com/prokopenkoserhii">Сергій Прокопенко</a> - Бізнес аналітик</li>\n  <li><a href="https://www.facebook.com/vlodko">Володимир Закалюжний</a> - Візія продукту</li>\n</ul>\n\n<h2>Глосарій термінів</h2>\n<ul>\n  <li>Діяч: політик чи активіст, що потребує підтримки від Донора.</li>\n  <li>Донор: мешканець чи виборець, що може підтримати Діяча.</li>\n  <li>Проект (захід): запропонований лідером спосіб вирішення конкретної проблеми.</li>\n</ul>\n\n<h2>BigPolicy</h2>\n<p>Україна, м.&nbsp;Львів <br>\nвул.&nbsp;Наукова&nbsp;58, кв.&nbsp;28 <br>\n+380936191795</p>\n<p>\n  <img src="assets/img/logo.png" width="256" />\n</p>\n<p>У розробці з {{dateInit | date}} по {{dateNow | date}}</p>\n<p>\n  <a href="https://www.revolvermaps.com/?target=enlarge&amp;i=0ukt1i6a2i9"><img src="//ra.revolvermaps.com/h/m/a/0/ff0000/128/0/0ukt1i6a2i9.png" width="256" height="128" alt="Map" style="border:0;"></a>\n</p>\n<p><iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FBIGPOLICY%2F&width=450&layout=standard&action=like&show_faces=true&share=true&height=80&appId" width="256" height="200" style="border:none;overflow:hidden; margin-left: 1em;" scrolling="no" frameborder="0" allowTransparency="true"></iframe>\n</p>\n<p>⨒ <a href="https://github.com/rostag/bigpolicy_eu/wiki">BigPolicy Wiki</a></p>\n'},921:function(t,e){t.exports='<div [class.bp-dark-theme]="toolbar.isDarkTheme">\n\n  <app-bp-toolbar #toolbar>\n  </app-bp-toolbar>\n\n  <app-bp-navbar>\n  </app-bp-navbar>\n\n  <div class="app-content">\n    <router-outlet></router-outlet>\n  </div>\n\n  <footer>Creative Commons and BigPolicy v.1.0.4 - 2015-2016.\n    <a [routerLink]="[\'/about\']">Про проект</a>\n  </footer>\n\n</div>\n'},922:function(t,e){t.exports='<div class="bp-landing numbers">\n  <md-card class="md-card-flat">\n    <md-grid-list cols="4" rowHeight="55" id="stats">\n      <md-grid-tile> <h2><a [routerLink]="[\'/leaders\']"><span>{{app.leaders.length}}</span> діячів</a></h2> </md-grid-tile>\n      <md-grid-tile> <h2><a [routerLink]="[\'/projects\']"><span>{{app.projects.length}}</span> проектів</a></h2> </md-grid-tile>\n      <md-grid-tile> <h2><span>{{app.donors}}</span> донорів</h2> </md-grid-tile>\n      <md-grid-tile> <h2><span>{{app.totalDonationsReceived}}</span>&#8372;</h2> </md-grid-tile>\n    </md-grid-list>\n\n    <div class="container">\n      <div class="row">\n        <div class="one-half column">\n\n          <h4>BIGPOLICY - це краудфандингова платформа прямої демократії для політиків і громадських активістів.</h4>\n          <h5>Винайдемо нову політику разом!</h5>\n\n          <p><a [routerLink]="[\'/add-leader\']">Зголошуйся в активні діячі</a> або підтримуй активних громадян та їх проекти.</p>\n          <!--<p><small>Мало часу? <a href="https://www.facebook.com/groups/BIGPOLICY/permalink/1771667176453897/">Ми стисло виклали суть справи, наші задачі і методи</a>.<br />І твоя думка цікава нам.</small></p>-->\n\n          <h5>BigPolicy вже має команду діячів, з першим проектом створення платформи!</h5>\n\n          <p>Ми не отримуємо фінансової допомоги від жодної з політичних партій і\n          в наші плани не входить отримання коштів від них чих від політиків.\n          Ми незалежні від політичних сил і такими зостанемося.</p>\n\n          <h5>В нас є можливість розвинути цю ідею. Спробуй пряму демократію, підтримавши нашу громадянську волю.</h5>\n          <a href="https://www.liqpay.com/api/3/checkout?data=eyJ2ZXJzaW9uIjozLCJhY3Rpb24iOiJwYXlkb25hdGUiLCJwdWJsaWNfa2V5IjoiaTc3MDYxMzUxNDgyIiwiYW1vdW50IjoiMTAiLCJjdXJyZW5jeSI6IlVBSCIsImRlc2NyaXB0aW9uIjoi0K8g0LLRltGA0Y4g0LIg0YLQtdCx0LUhIiwidHlwZSI6ImRvbmF0ZSIsImxhbmd1YWdlIjoiZW4ifQ%3D%3D&signature=%2FA19v2A2ebDHGW71VxD5JDhaG70%3D"><button md-button color="primary" md-raised-button>Підтримай нас фінансово</button></a>\n\n          <h5>Ми на зв\'язку:</h5>\n\n          <p>Пиши нам на <a href="mailto:voice@bigpolicy.eu">електронну пошту</a>. Долучайся до групи <a href="https://www.facebook.com/groups/BigPolicy">BigPolicy</a> у FB.</p>\n\n          <h5>Підпишися на новини:</h5>\n          <!-- Begin MailChimp Signup Form -->\n          <link href="//cdn-images.mailchimp.com/embedcode/slim-10_7.css" rel="stylesheet" type="text/css">\n          <style type="text/css">\n            #mc_embed_signup{margin-top: 0;}\n            /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.\n               We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */\n            #mc_embed_signup form {\n              padding-left: 0;\n              padding-top: 0;\n              margin-top: 0;\n            }\n          </style>\n\n          <div id="mc_embed_signup">\n            <form action="//us11.list-manage.com/subscribe/post?u=deeb36270b9b694bba754d0c1&amp;id=f35a7fdff8" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>\n              <div id="mc_embed_signup_scroll">\n                <input required type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Твій email">\n                <input type="submit" value="Підписатися" name="subscribe" id="mc-embedded-subscribe" class="button">\n                <!-- <button id="mc-embedded-subscribe" >Підписатися</button> -->\n                <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->\n                <div style="position: absolute; left: -5000px;" aria-hidden="true">\n                  <input type="text" name="b_deeb36270b9b694bba754d0c1_f35a7fdff8" tabindex="-1" value="">\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n\n        <div class="one-half column" id="top-projects">\n\n          <h4>Популярні проекти:</h4>\n\n             <div *ngFor="let project of app.projects">\n               <md-card>\n                 <md-card-header>\n                   <img md-card-avatar src="assets/img/avatar-generic.png" alt="{{project.title}}">\n                   <md-card-title>{{project.title}}</md-card-title>\n                   <md-card-subtitle>{{project.managerName}}, Дніпро</md-card-subtitle>\n                 </md-card-header>\n                 <md-card-content>\n                     {{project.description}}\n                     <br/>\n                     <br/>\n                     <small>Строки: {{project.dateStarted | date:\'yMMMMd\'}} - {{project.dateEnded | date:\'yMMMMd\'}}, вартість: {{project.cost}} UAH</small>\n                 </md-card-content>\n                 <md-card-actions>\n                   <a [routerLink]="[\'/project/\' + project._id]"><button md-button color="primary">Підтримати</button></a>\n                 </md-card-actions>\n               </md-card>\n            </div>\n\n          <a [routerLink]="[\'/projects\']"><button md-button color="primary">Дивитися усі проекти</button></a>\n\n          <!-- FIXME: temporarily disabled: FB Page -->\n          <!--\n          <div style="width: 190px;text-align: center;margin-top: 30px;" id="fb_page_div">\n            <div class="fb-page" data-href="https://www.facebook.com/bigpolicy" data-tabs="timeline" data-width="500" data-small-header="false" data-adapt-container-width="true" data-hide-cover="false" data-show-facepile="true">\n              <div class="fb-xfbml-parse-ignore">\n                <blockquote cite="https://www.facebook.com/bigpolicy">\n\n                </blockquote>\n              </div>\n            </div>\n          </div> -->\n        </div>\n     </div>\n   </div>\n\n   <div class="container">\n     <div class="row">\n       <div class="one-half column">\n\n         <iframe src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2FBIGPOLICY%2Fvideos%2F161167597610702%2F&show_text=0&width=560" width="100%" height="300" style="border:none;overflow:hidden;max-width: 560px;" scrolling="no" frameborder="0" allowTransparency="true" id="fb_video_post">\n         </iframe>\n\n         <h4>Форкни демократію</h4>\n         <p>\n           Долучайся до розробки відкритої платформи <a href="https://github.com/rostag/bigpolicy_eu">BigPolicy на GitHub</a>.\n         </p>\n\n          <p>\n            Ми описали, як почати роботу. Якщо будуть питання - звертайся до <a href="https://www.facebook.com/rastislavr">техліда</a>.\n          </p>\n\n          <p>\n            <a href="https://www.facebook.com/groups/bigpolicy">Група BigPolicy на Facebook</a>\n          </p>\n        </div>\n        <div class="one-half column">\n          <p><b>Контакти:</b><br>\n            м.&nbsp;Львів, вул.&nbsp;Наукова&nbsp;58, кв.&nbsp;28 <br>\n            +380936191795</p>\n            <img class="logo" src="assets/img/logo.png" />\n            <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FBIGPOLICY%2F&width=450&layout=standard&action=like&show_faces=true&share=true&height=80&appId" width="300" height="200" style="border:none;overflow:hidden; margin-left: 1em;" scrolling="no" frameborder="0" allowTransparency="true"></iframe>\n        </div>\n      </div>\n    </div>\n  </md-card>\n\n</div>\n'},923:function(t,e){t.exports='<md-card class="leader-edit-card">\n  <form>\n  <md-card-content>\n    <md-card-title>\n      <span *ngIf="!isUpdateMode">Стати діячем</span>\n      <span *ngIf="isUpdateMode">Редагувати діяча</span>\n    </md-card-title>\n\n      <!--LOGO OF LEADER-->\n      <md-card-content>\n        <md-card-header>\n          <button md-mini-fab  class="md-24" >\n            <md-icon color="white">file_upload</md-icon>\n          </button>\n          <img md-card-md-image src="assets/img/avatar-generic.png">\n          <p style="margin:-1em 3em 0 1em;">\n            <md-input required [ngModelOptions]="{standalone: true}" [(ngModel)]="leader.name" placeholder="Ім\'я" style="width: 100%"></md-input>\n            <md-input required [ngModelOptions]="{standalone: true}" [(ngModel)]="leader.surName" placeholder="Прізвище" style="width: 100%"></md-input>\n            <!-- TODO: Use existing video control to auto-extend functionality on input -->\n            <md-input video-control [(ngModel)]="leader.videoUrl" placeholder="Відео:" hintLabel="" [ngModelOptions]="{standalone: true}" ></md-input>\n          </p>\n        </md-card-header>\n\n        <div style="margin-top:100px;">\n\n        <h3>Як виглядає проблема для тебе?</h3>\n\n          <md-textarea required rows="3" maxLength="1000" [(ngModel)]="leader.vision" placeholder="Твоя особиста візія і думки" hintLabel="" characterCounter [ngModelOptions]="{standalone: true}">\n          </md-textarea>\n\n          <h3>Який аспект проблеми ти хочеш вирішити?</h3>\n\n          <md-textarea required rows="3" maxLength="1000" [(ngModel)]="leader.mission" placeholder="Твоя місія" hintLabel="" characterCounter [ngModelOptions]="{standalone: true}" >\n          </md-textarea>\n\n        </div>\n\n      </md-card-content>\n\n      <!--\n\n      <md-toolbar class="add-toolbar" color="primary">Проекти\n        <span class="add-fill-remaining"></span>\n        <span *ngIf="isUpdateMode">\n          <button disabled=\'disabled\' md-raised-button (click)="addProject()" color="accent">Додати проект</button>\n        </span>\n      </md-toolbar>\n\n      <md-card-content>\n        <h3>Як ти вирішиш цю проблему?</h3>\n\n        <md-input name="description" characterCounter style="width: 100%;" placeholder="Опиши свій проект: " hintLabel=""></md-input>\n\n        <md-input name="amount" placeholder="Сума, грн" align="end">\n          <span md-prefix>Який бюджет тобі на це потрібен? UAH&nbsp;</span>\n          <span md-suffix>.00 </span>\n        </md-input>\n      </md-card-content>\n\n      <md-toolbar class="add-toolbar" color="primary">Твоя програма\n        <span class="add-fill-remaining"></span>\n        <span *ngIf="isUpdateMode">\n          <button disabled=\'disabled\' md-raised-button (click)="addProject()" color="accent">Додати ще одну ціль</button>\n        </span>\n      </md-toolbar>\n\n      <md-card-content>\n        <h3>Які цілі ти ставиш собі на 3 роки вперед?</h3> Головна ціль:\n        <md-input name="name" [(ngModel)]="name" type="text" placeholder="Опиши коротко"></md-input>*\n\n        <p>\n          Другорядна ціль:\n          <md-input name="name" [(ngModel)]="name" type="text" placeholder="Опиши коротко"></md-input>*\n        </p>\n      </md-card-content>\n\n      <md-toolbar class="add-toolbar" color="white">Додатково</md-toolbar>\n\n      <md-card-content>\n        <md-card-title>\n          Належиш до партії?\n          <md-input name="party" type="text" placeholder="Вкажи партію"></md-input>\n        </md-card-title>\n\n        <md-card-title>\n          Офіційна посада:\n          <md-input name="title" type="text" placeholder="Вкажи свою посаду"></md-input>\n        </md-card-title>\n      </md-card-content>\n\n      <md-toolbar class="add-toolbar" color="accent">Твої профілі у соцмережах:\n        <span class="add-fill-remaining"></span>\n        <button md-button><md-icon>add</md-icon>Додати</button>\n      </md-toolbar>\n\n      <md-card-content>\n        <md-card-title>\n          Профілі не вказано\n        </md-card-title>\n      </md-card-content>\n\n      <md-toolbar class="add-toolbar" color="white">\n        <h2>Завантаж необхідні документи:</h2>\n      </md-toolbar>\n\n      <md-card-content>\n        <ul>\n        <li><a><md-icon color="primary">attach_file</md-icon>Програма дій</a></li>\n        <li><a><md-icon color="primary">attach_file</md-icon>Передвиборча програма</a></li>\n        <li><a><md-icon color="primary">attach_file</md-icon>Скан паспорту</a></li>\n        <li><a><md-icon color="primary">attach_file</md-icon>Довідка про судимості</a></li>\n        <li><a><md-icon color="primary">attach_file</md-icon>Антикорупційні документи</a></li>\n        <li><a><md-icon color="primary">attach_file</md-icon>Публічна майнова декларація</a></li>\n      </ul>\n      </md-card-content>\n\n      <ul style="list-style-type:none">\n        <li>\n          <md-checkbox [checked]="false" align="start">\n            Я даю згоду на обробку моїх персональних данних.\n          </md-checkbox>\n        </li>\n        <li>\n          <md-checkbox [checked]="false" align="start">\n            Я погоджуюся з умовами роботи BigPolicy\n          </md-checkbox>\n        </li>\n      </ul>\n      <br>\n\n    -->\n\n    <md-toolbar class="add-toolbar" color="#fff">\n      <button md-raised-button color="primary" type="submit" (click)="saveLeader()">Готово</button>\n      <span class="add-fill-remaining"></span>\n      <button md-raised-button disabled color="accent">Як буде виглядати моя сторінка?</button>\n      <button md-button *ngIf="isUpdateMode" color="warn" (click)="deleteLeader(leader)">Видалити</button>\n    </md-toolbar>\n\n  </md-card-content>\n  </form>\n</md-card>\n\n<!--\n\n  JUST SOME SNIPPETS TO BE REUSED\n\n  PREFILL LIKE ADDRESS:\n\n    <p>\n      <md-input [ngModelOptions]="{standalone: true}" class="demo-full-width" placeholder="Як виглядає проблема для тебе?" value="Твоя особиста візія і думки"></md-input>\n    </p>\n\n    <md-input [ngModelOptions]="{standalone: true}" style="width: 100%" [(ngModel)]="newName" placeholder="Як виглядає проблема для тебе?"\n    value="Твоя особиста візія і думки"></md-input>\n\n    <md-input-container>\n      <label>Color</label>\n      <input type="text" ng-model="color" md-maxlength="10">\n    </md-input-container>\n\n    <md-input class="demo-full-width" placeholder="Company (disabled)" disabled value="Google">\n    </md-input>\n\n    <table style="width: 100%" cellspacing="0"><tr>\n      <td><md-input [ngModelOptions]="{standalone: true}"class="demo-full-width" placeholder="City" value="Mountain View"></md-input></td>\n      <td><md-input [ngModelOptions]="{standalone: true}"class="demo-full-width" placeholder="State" maxLength="2" value="CA"></md-input></td>\n      <td><md-input [ngModelOptions]="{standalone: true}" #postalCode class="demo-full-width" maxLength="5"\n                    placeholder="Postal Code"\n                    value="94043">\n        <md-hint align="end">{{postalCode.characterCount}} / 5</md-hint>\n      </md-input></td>\n    </tr></table>\n\n-->\n'},924:function(t,e){t.exports='<md-card>\n  <md-card-title>Лідери</md-card-title>\n  <md-card-content>\n\n    <!--\n    TODO\n    <p disabled>Показати у спискові:\n      <select disabled>\n        <option>члени партії...</option>\n        <option>РПР</option>\n        <option>ЩЗП</option>\n      </select>\n\n     <a href="#" disabled>активісти</a> з регіону:\n      <select disabled>\n        <option>Усі регіони</option>\n        <option>Львів</option>\n        <option>Харків</option>\n      </select>\n    </p> -->\n\n    <div class="leaders-list">\n         <div *ngFor="let leader of leaders">\n          <md-card class="leader-list">\n            <md-card-title-group>\n              <img md-card-avatar src="assets/img/avatar-generic.png">\n              <md-card-title>{{leader.name}} {{leader.surName}}</md-card-title>\n              <md-card-title></md-card-title>\n            </md-card-title-group>\n            <md-card-content>\n                <p>Візія: {{leader.vision}}</p>\n            </md-card-content>\n            <md-card-actions>\n              <a [routerLink] = "[\'/leader/\' + leader._id]"><button md-button md-raised-button color="primary">Підтримати</button></a>\n              <span *ngIf="user.hasEditPermissions(leader)">\n                <a [routerLink] = "[\'/leader/\' + leader._id + \'/edit\']"><button md-button color="accent">Редагувати</button></a>\n                <a href (click) = "deleteLeader(leader)"><button md-button color="warn">Видалити</button></a>\n              </span>\n            </md-card-actions>\n          </md-card>\n\n         <br />\n         <br />\n\n       </div>\n\n    </div>\n  </md-card-content>\n</md-card>\n'},925:function(t,e){t.exports='<md-card>\n\n    <md-card-title-group>\n      <md-card-title>{{leader.name}} {{leader.surName}}\n        <br />\n\n        <!-- FIXME\n          <a href><md-icon>thumb_up</md-icon></a>\n          <a href><md-icon>share</md-icon></a>\n          <md-card-subtitle>Місто: {{leader.city}}</md-card-subtitle>\n        -->\n\n        <p>\n          <app-bp-donate [amount]="70" [target]="leader" [targetType]="\'leader\'"></app-bp-donate>\n        </p>\n\n      </md-card-title>\n\n      <!-- state="iframed.leader"  -->\n      <app-bp-video [videoUrl]="leader.videoUrl" [title]="leader.name" placeholderUrl="assets/img/avatar.jpg"></app-bp-video>\n\n    </md-card-title-group>\n\n    <md-card-content>\n\n      <h3>Місія:</h3>{{leader.mission}}\n      <br><br>\n      <h3>Візія:</h3> {{leader.vision}}\n\n      <!-- FIXME <h2>Навички та вміння:</h2>\n      <p>Аналітик, соціальний підприємець та консультант</p>\n      <p>Депутат Дніпровської міської ради. Член партії: Рефлексійка</p> -->\n\n      <!-- FIXME <h2>Документи:</h2>\n      <a href="https://www.google.com.ua/" target="_blank"><md-icon>picture_as_pdf</md-icon></a>Програма на поточну діяльність\n      <a href="https://www.google.com.ua/" target="blank"><md-icon>picture_as_pdf</md-icon></a>Програма на вибори\n      <a href="https://www.google.com.ua/" target="blank"><md-icon>picture_as_pdf</md-icon></a>Фінансовий звіт\n      <a href="https://www.google.com.ua/" target="blank"><md-icon>picture_as_pdf</md-icon></a>Декларація -->\n\n      <br />\n      <br />\n\n      <!-- WIP -->\n\n      <md-card-title>\n        Проекти:\n      </md-card-title>\n      <md-card-content>\n        <app-project-list [leaderId]="leader._id">\n        </app-project-list>\n      </md-card-content>\n\n    </md-card-content>\n\n  <md-card-actions>\n    <p class="admin" *ngIf="user.hasEditPermissions(leader)">\n      <a [routerLink] = "[\'/leader/\' + leader._id + \'/edit\']"><button md-raised-button color="accent">Редагувати</button></a>\n      <a href (click) = "deleteLeader(leader)"><button md-raised-button color="warn">Видалити</button></a>\n    </p>\n  </md-card-actions>\n</md-card>\n';
},926:function(t,e){t.exports='<form>\n<md-card class="project-edit-card">\n    <md-card-content>\n      <md-card-title>\n        <span *ngIf="!isUpdateMode">Створити</span>\n        <span *ngIf="isUpdateMode">Редагувати</span>\n         проект\n      </md-card-title>\n\n      <md-input required [(ngModel)]="project.title" characterCounter placeholder="Обери просту назву, яка полегшить розуміння твого задуму:" hintLabel="" [ngModelOptions]="{standalone: true}"></md-input>\n      <!-- Add a md-autosize directive to auto-extend functionality on input -->\n      <md-textarea required class="bp-textarea" rows="4" maxLength="1000" [(ngModel)]="project.description"  placeholder="Опиши свій проект чи захід:" hintLabel="" [ngModelOptions]="{standalone: true}"></md-textarea>\n      <!-- <md-input required [(ngModel)]="project.description" placeholder="Опиши свій проект чи захід:" hintLabel="" [ngModelOptions]="{standalone: true}"></md-input> -->\n      <md-input video-control [(ngModel)]="project.videoUrl" placeholder="Відео до проекту:" hintLabel="" [ngModelOptions]="{standalone: true}" ></md-input>\n\n      <md-input required [(ngModel)]="project.cost" placeholder="Сума, грн" align="end" [ngModelOptions]="{standalone: true}" value="1" >\n       <span md-prefix>Який бюджет тобі на це потрібен?</span>\n       <span md-suffix>.00 </span>\n      </md-input>\n\n      <table style="width: 100%" cellspacing="0"><tr>\n       <td><md-input type="date" [(ngModel)]="project.startDateInputValue" hintlabel="Коли проект починається?" value="Вкажи дату початку проекту, будь ласка" [ngModelOptions]="{standalone: true}" >\n          <div md-prefix>Дата початку:&nbsp;</div>\n       </md-input></td>\n       <td><md-input type="date" [(ngModel)]="project.endDateInputValue" hintlabel="Коли закінчується проект?" value="Дата завершення проекту" [ngModelOptions]="{standalone: true}" >\n          <div md-prefix>Дата завершення:&nbsp;</div>\n       </md-input></td>\n      </tr></table>\n\n      <!-- Project Tasks -->\n      <app-task-list [project]="project" *ngIf="showTasks"></app-task-list>\n      <!-- /Project Tasks -->\n\n    </md-card-content>\n\n    <p>\n      <button type="submit" md-raised-button (click)="saveProject()" color="primary">\n        <span *ngIf="!isUpdateMode">Додати</span>\n        <span *ngIf="isUpdateMode">Зберегти</span>\n        <span>проект</span>\n      </button>\n    </p>\n\n</md-card>\n</form>\n'},927:function(t,e){t.exports='<md-card>\n  <md-card-title>Проекти</md-card-title>\n  <md-card-subtitle>Як зробити діяльність прозорою? Будь-який діяч є менеджером проектів.\n    Кожен проект має визначені  бюджет, строки і результат. Результат оцінює спільнота.\n    Менеджер реагує на критику і відповідає на запитання.\n  </md-card-subtitle>\n\n  <md-card-content>\n\n    <app-project-list [maxCount]="10">\n    </app-project-list>\n\n  </md-card-content>\n  <!-- <md-card-actions>\n    <a href="/projects"><button md-button color="primary">Переглянути усі проекти</button></a>\n  </md-card-actions> -->\n</md-card>\n'},928:function(t,e){t.exports='<md-list>\n  <!-- Usage: <app-project-list [leaderId]="123" [maxCount]="100"></app-project-list> -->\n  <md-list-item *ngFor="let project of projects | async">\n    <img md-list-avatar src="assets/img/avatar.jpg" alt="{{project.title}}">\n    <h3 md-line><a [routerLink]="[\'/project/\' + project._id]"><b>{{project.title}}</b> - {{project.managerName}}</a></h3>\n    <p md-line>\n      <b>{{project.cost}} UAH.</b> {{project.dateEnded | date}} - {{project.dateStarted | date}}\n    </p>\n    <p md-line>\n      <small>{{project.description}}</small>\n    </p>\n    <p *ngIf="user.hasEditPermissions(project)" class="admin" style="min-width:4em;">\n      <a [routerLink]="[\'/project/\' + project._id + \'/edit\']"><md-icon>edit</md-icon></a>\n      <a href (click)="deleteProject(project)"><md-icon>delete</md-icon></a>\n    </p>\n  </md-list-item>\n  <!-- TODO Also show Projects as Cards / Thumbs -->\n\n  <!--\n  <div *ngFor="let project of app.projects">\n    <md-card>\n      <md-card-header>\n        <img md-card-avatar src="assets/img/avatar-generic.png" alt="{{project.title}}">\n        <md-card-title>{{project.title}}</md-card-title>\n        <md-card-subtitle>{{project.managerName}}, Дніпро</md-card-subtitle>\n      </md-card-header>\n      <md-card-content>\n          {{project.description}}\n          <br/>\n          <br/>\n          <small>Строки: {{project.dateStarted | date:\'yMMMMd\'}} - {{project.dateEnded | date:\'yMMMMd\'}}, вартість: {{project.cost}} UAH</small>\n      </md-card-content>\n      <md-card-actions>\n        <a [routerLink]="[\'/project/\' + project._id]"><button md-button color="primary">Підтримати</button></a>\n      </md-card-actions>\n    </md-card>\n  </div> -->\n</md-list>\n'},929:function(t,e){t.exports='<div class="project-view">\n\n  <md-card-content>\n\n    <app-bp-sharer #sharer [project]="project"></app-bp-sharer>\n\n    <h1>{{project.title}}</h1>\n    <app-bp-donate [label]="\'Підтримати проект:\'" [amount]="70" [target]="project" [targetType]="\'project\'"></app-bp-donate>\n\n    <md-grid-list cols="2" rowHeight="255" id="stats">\n      <md-grid-tile>\n\n        <!-- state="iFramed.Project" -->\n        <app-bp-video [videoUrl]="project.videoUrl" [title]="project.title" placeholderUrl="assets/img/project/project-placeholder.png"></app-bp-video>\n\n      </md-grid-tile>\n      <md-grid-tile>\n        <div>\n          <!-- FIXME Рахувати вартість та донацїї проекту за його заходами -->\n          <h2>Зібрано {{project.totalDonationsReceived || 0}} з {{project.cost}} UAH</h2>\n          <h3>Менеджер: <a [routerLink] = "[\'/leader/\' + project.managerId ]">{{project.managerName}}</a></h3>\n          <p>Початок: {{project.dateStarted | date}}<br/>\n          Кінець: {{project.dateEnded | date}}</p>\n        </div>\n      </md-grid-tile>\n    </md-grid-list>\n\n    <h2>Детальніше</h2>\n    <p>{{project.description}}</p>\n\n    <!-- Project Tasks -->\n    <app-task-list [project]="project"></app-task-list>\n    <!-- /Project Tasks -->\n\n    <p *ngIf="user.hasEditPermissions(project)" class="admin project-toolbar">\n      <a [routerLink] = "[\'/project/\' + project._id + \'/edit\']"><button md-raised-button color="primary">Редагувати</button></a>\n      <!-- TODO Enable it -->\n      <a href (click) = "deleteProject(project)"><button md-raised-button color="warn">Видалити проект</button></a>\n    </p>\n\n  </md-card-content>\n\n</div>\n'},930:function(t,e){t.exports='<div>\n  <button *ngIf="!readyToDonate" (click)="onDonateToggle()" md-raised-button color="accent">{{label + \' \' + this.amount + \' UAH\'}}</button>\n  <button *ngIf="!readyToDonate && target.totalDonationsReceived>0" (click)="onToggleDonationsList()" md-button color="accent">Усього: {{target.totalDonationsReceived || 0}} UAH</button>\n  <div *ngIf="readyToDonate" >\n      <div [innerHTML]="donationFormHtml"></div>\n      <p>Увага: натиснувши кнопку "Переказати", Ви перейдете на сторінку оплати,\n        щоб переказати кошти у зручний для Вас спосіб.\n      </p>\n      <button (click)="onDonateToggle()" md-button>X</button>\n  </div>\n\n  <app-donations-list [target]="target" [targetType]="targetType" *ngIf="donationsListVisible" ></app-donations-list>\n\n</div>\n'},931:function(t,e){t.exports='<md-card>\n\n  <md-card-title>\n\n    <md-toolbar class="add-toolbar" color="accent">\n      Усі зроблені внески.\n      <!-- TODO Усього зроблено внесків: {{donations.length | async}} -->\n      <span class="add-fill-remaining"></span>\n      Сума: {{target.totalDonationsReceived}} UAH\n      <!-- <button md-raised-button (click)="addTask(project)"  *ngIf="!isAddingTaskMode && user.hasEditPermissions(project)" color="primary">Додати захід</button> -->\n    </md-toolbar>\n\n  </md-card-title>\n\n  <md-card-content>\n\n    <md-list>\n      <ol>\n       <md-list-item *ngFor="let donation of donations | async">\n         <li>\n           <small>{{donation.description}} {{donation.dateStarted | date}}, {{donation.status}}</small>\n           <!-- FIXME Show completeness status {{donation.dateCompleted | date}} -->\n           <!-- TODO Add individual donation view <h3 md-line><a [routerLink]="[\'/donation/\' + donation._id]"><b>{{donation.title}}</b></a></h3> -->\n           <!-- TODO let admin to delete donation, user to cancel -->\n           <!-- <p *ngIf="user.hasEditPermissions(donation)" class="admin" style="min-width:4em;">\n             <a [routerLink]="[\'/donation/\' + donation._id + \'/edit\']"><md-icon>edit</md-icon></a>\n             <a href (click)="deleteTask(donation)"><md-icon>delete</md-icon></a>\n           </p> -->\n       </li>\n      </md-list-item>\n      </ol>\n    </md-list>\n\n  </md-card-content>\n\n</md-card>\n'},932:function(t,e){t.exports='<md-card>\n  <md-card-content>\n    <h1>Log In</h1>\n\n    <form>\n      <div class="form-group">\n        <label for="name">Username</label>\n        <input type="text" class="form-control" #username placeholder="yours@example.com">\n      </div>\n      <div class="form-group">\n        <label for="name">Password</label>\n        <input type="password" class="form-control" #password placeholder="your password">\n      </div>\n      <button type="submit" class="btn btn-default" (click)="userService.login(username.value, password.value)">Login</button>\n      <button type="submit" class="btn btn-default" (click)="userService.signUp(username.value, password.value)">Sign Up</button>\n      <button type="submit" class="btn btn-default btn-primary" (click)="userService.googleLogin()">Login with Google</button>\n      <p></p>\n    </form>\n  </md-card-content>\n</md-card>\n'},933:function(t,e){t.exports='<nav>\n  <a [routerLink]="[\'/\']"><button md-button color="primary">Головна</button></a>\n  <a [routerLink]="[\'/projects\']"><button md-button color="primary">Проекти</button></a>\n  <a [routerLink]="[\'/leaders\']"><button md-button color="primary">Лідери</button></a>\n  <a *ngIf="userService.authenticated()" [routerLink]="[\'/add-project\']"><button md-button color="primary">Створити проект</button></a>\n  <a *ngIf="userService.authenticated()" [routerLink]="[\'/add-leader\']"><button md-button color="primary">Стати лідером</button></a>\n</nav>\n'},934:function(t,e){t.exports='<!-- Show Sharer Button -->\n<a href (click)="showSharer()" class="share-show">\n  <button *ngIf="!sharerIsVisible" md-raised-button color="accent">Поширити</button>\n</a>\n<!-- TODO уведення декількох адрес через кому -->\n<md-card class="share-card" [class.display-block]="sharerIsVisible"\n  [@visibilityChanged]="sharerIsVisible"\n  >\n\n  <form #shareForm="ngForm" >\n\n    <div style="float:right;margin-top: -0.75em;margin-right: 0">\n      <a *ngIf="!showHtmlPreview" href (click)="toggleHtmlPreview()"><button md-button>Показати HTML</button></a>\n      <a *ngIf="showHtmlPreview" href (click)="toggleHtmlPreview()"><button md-raised-button>Сховати HTML</button></a>\n      <a href (click)="showSharer()"><button md-button>Відмінити</button></a>\n      <a href (click)="shareItem()"><button md-raised-button color="accent" class="bt-input">Надіслати листа</button></a>\n    </div>\n\n    <div *ngIf="showHtmlPreview" class="bp-pre-html">{{emailHtml}}</div>\n\n    <h2 *ngIf="getFormState(\'\')">Надіслати по email</h2>\n    <h2 *ngIf="getFormState(\'emailIsBeingSent\')">Надсилаю повідомлення...</h2>\n    <h2 *ngIf="getFormState(\'emailSent\')">Повідомлення надіслано</h2>\n    <h2 *ngIf="getFormState(\'emailSendError\')">Сталася помилка {{emailSendError}}</h2>\n    <h2 *ngIf="getFormState(\'formIsNotComplete\')">Форма не готова до відправки</h2>\n\n    <md-input\n      [(ngModel)]="toEmail"\n      name="toEmail"\n      id="toEmail"\n      class="wide bt-input"\n      (blur)="handleInputBlur($event)"\n      #toEmailElement\n      appValidateEmail="^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$">\n      <md-placeholder>\n        Кому:\n      </md-placeholder>\n    </md-input>\n\n    <div *ngIf="formErrors.toEmail" class="alert alert-danger">\n      {{ formErrors.toEmail }}\n    </div>\n\n    <md-input\n      disabled\n      [ngModel]="emailSubject" id="emailSubject" name="emailSubject"\n      class="wide bt-input">\n      <md-placeholder>\n        Тема:\n      </md-placeholder>\n    </md-input>\n\n\n    <div class="bp-textarea-wrapper">\n      <label for="textToReader" class="textarea-label">Текст:</label>\n\n      <textarea\n        [(ngModel)]="textToReader"\n        class="bp-textarea mailtext"\n        id="textToReader"\n        name="textToReader"\n        (keydown)="autoExpand(\'textToReader\')">\n        {{textToReader}}\n      </textarea>\n    </div>\n\n    <md-input\n      [(ngModel)]="videoUrl"\n      id="videoUrl"\n      name="videoUrl"\n      class="wide bt-input video-input">\n      <md-placeholder>\n        Відео (посилання):\n      </md-placeholder>\n    </md-input>\n  </form>\n\n  <md-card-content *ngIf="showEmailPreview" class="email-preview">\n    <p [innerHTML]="emailHtml" class="bp-pre"></p>\n  </md-card-content>\n\n</md-card>\n'},935:function(t,e){t.exports='<md-toolbar color="primary">\n  <span class="logo">\n    <a [routerLink]="[\'/\']">\n      <md-icon class="toolbar-inline-icon">group_work</md-icon>\n      <span *ngIf="userService.isDemoMode">Demo:</span>\n      BigPolicy\n    </a>\n  </span>\n\n  <span class="username">\n    <a *ngIf="!userService.authenticated()" (click)="userService.login()">Login</a>\n    <span *ngIf="userService.authenticated()" class="toolbar-username">\n      <!-- FIXME Override User Profile Name with Leader Name ? -->\n      <a [routerLink]="[\'/profile\']" >{{userService.userProfile ? userService.userProfile.name : \'\'}}\n        <md-icon class="toolbar-inline-icon">account_circle</md-icon>\n      </a>\n      <a (click)="userService.logout()">Logout</a>\n    </span>\n  </span>\n\n  <button md-icon-button [md-menu-trigger-for]="menu">\n    <md-icon>more_vert</md-icon>\n  </button>\n</md-toolbar>\n\n<md-menu x-position="before" #menu="mdMenu">\n  <button md-menu-item (click)="isDarkTheme=!isDarkTheme">Toggle Theme</button>\n  <button md-menu-item (click)="userService.setDemoMode()">Demo Mode</button>\n</md-menu>\n'},936:function(t,e){t.exports='<md-card>\n  <div *ngIf="userService.authenticated() && userService.userProfile">\n    <md-card-title-group>\n      <md-card-title>\n        <!-- FIXME Override User Profile Name with Leader Name ? -->\n        <h1>\n          {{userService.userProfile.name}}\n          <md-card-subtitle>\n            {{userService.userProfile.email}}\n          </md-card-subtitle>\n        </h1>\n      </md-card-title>\n      <img md-card-md-image [src]="userService.userProfile.picture">\n    </md-card-title-group>\n    <md-card-content>\n      <p><strong>Нікнейм: </strong> {{userService.userProfile.nickname}}</p>\n      <p><strong>Дата реєстрації: </strong> {{userService.userProfile.created_at}}</p>\n      <p><strong>Останій вхід: </strong> {{userService.userProfile.updated_at}}</p>\n      <!-- <h4>You are logged in</h4> -->\n    </md-card-content>\n\n    <md-card>\n      <md-card-title>\n        Проекти:\n      </md-card-title>\n      <md-card-content>\n        <app-project-list [leaderId]="leader._id">\n        </app-project-list>\n      </md-card-content>\n    </md-card>\n\n    <md-card-actions>\n      <p class="admin">\n        <a [routerLink] = "[\'/leaders\']"><button md-raised-button color="accent">Редагувати</button></a>\n        <!-- <a href (click) = "deleteLeader(leader)"><button md-raised-button color="warn">Видалити</button></a> -->\n      </p>\n    </md-card-actions>\n  </div>\n  <h4 *ngIf="!userService.authenticated()">Ви не зайшли в систему. Натисніть \'Вхід\', щоб зайти</h4>\n</md-card>\n'},937:function(t,e){t.exports='<!-- TODO: FIXME_SEC Need to double-check security here as soon as we neutralized DomSanitizer -->\n<!-- TODO: convert it to "add video (media?)" function -->\n<!-- [src]="safeVideoUrl" -->\n<div *ngIf="youTubeId" class="bp-video-iframed">\n  <iframe width="100%" height="100%" [src]="safeMediaUrl" frameborder="0" allowfullscreen></iframe>\n</div>\n\n<!-- If there\'s no video, placeholder image will be shown -->\n\n<!-- STATE: iFramed.Project -->\n<img *ngIf="!youTubeId" src="{{placeholderUrl}}" alt="{{title}}" width="250">\n\n<!-- STATE: iFramed.Leader -->\n<!-- <img md-card-md-image src="assets/img/avatar.jpg" alt="{{title}}" > -->\n\n<!-- STATE: iFramed.Task -->\n<!-- <img md-list-avatar src="assets/img/task/task-placeholder.png" alt="{{title}}" width="300"> -->\n'},938:function(t,e){t.exports='<md-card class="task-edit-view">\n  <form>\n\n    <md-card-content>\n\n      <md-card-title>\n        <span *ngIf="!isUpdateMode">Додати</span>\n        <span *ngIf="isUpdateMode">Редагувати</span>\n         захід\n      </md-card-title>\n\n      <md-input required [(ngModel)]="task.title" characterCounter placeholder="Назва заходу:" hintLabel="" [ngModelOptions]="{standalone: true}" ></md-input>\n\n      <md-textarea required [(ngModel)]="task.description" rows="3" placeholder="Опиши захід:" hintLabel="" [ngModelOptions]="{standalone: true}" ></md-textarea>\n\n      <!-- TODO: Use existing video control to auto-extend functionality on input -->\n      <md-input video-control [(ngModel)]="task.videoUrl" placeholder="Відео:" hintLabel="" [ngModelOptions]="{standalone: true}" ></md-input>\n\n      <md-input required [(ngModel)]="task.cost" placeholder="Сума, грн" align="end" [ngModelOptions]="{standalone: true}" >\n       <span md-prefix>Який його бюджет?</span>\n       <span md-suffix>.00 </span>\n      </md-input>\n\n      <table style="width: 100%" cellspacing="0"><tr>\n       <td><md-input type="date" [(ngModel)]="task.startDateInputValue" hintlabel="Коли починається?" value="Вкажи дату початку, будь ласка" [ngModelOptions]="{standalone: true}" >\n          <div md-prefix>Дата початку:&nbsp;</div>\n       </md-input></td>\n       <td><md-input type="date" [(ngModel)]="task.endDateInputValue" hintlabel="Коли закінчується?" value="Дата завершення" [ngModelOptions]="{standalone: true}" >\n          <div md-prefix>Дата завершення:&nbsp;</div>\n       </md-input></td>\n      </tr></table>\n\n      <p>\n        <button type="submit" md-raised-button (click)="saveTask()" color="primary">\n          <span *ngIf="!isUpdateMode">Додати</span>\n          <span *ngIf="isUpdateMode">Зберегти</span>\n           захід</button>\n        <a href *ngIf="isUpdateMode" (click)="deleteTask(task)"><button md-raised-button color="warn">Видалити</button></a>\n      </p>\n\n\n    </md-card-content>\n  </form>\n</md-card>\n'},939:function(t,e){t.exports='<md-card-content>\n<!-- <md-card> -->\n  <md-card-actions>\n    <md-toolbar class="add-toolbar" color="accent">Заходи проекту "{{project.title}}"\n      <span class="add-fill-remaining"></span>\n      <button md-raised-button (click)="addTask(project)"  *ngIf="!isAddingTaskMode && user.hasEditPermissions(project)" color="primary">Додати захід</button>\n    </md-toolbar>\n  </md-card-actions>\n\n  <!-- Add task -->\n  <app-bp-task-edit [projectId]="project._id" *ngIf="isAddingTaskMode" class="add-project-inline">\n  </app-bp-task-edit>\n\n    <md-list>\n       <md-list-item *ngFor="let task of tasks | async">\n         <img md-list-avatar src="assets/img/avatar.jpg" alt="{{task.title}}">\n         <h3 md-line><a [routerLink]="[\'/task/\' + task._id]"><b>{{task.title}}</b></a></h3>\n         <p md-line>\n          <b>{{task.cost}} UAH.</b> {{task.dateEnded | date}} - {{task.dateStarted | date}}\n         </p>\n         <p md-line>\n           <small>{{task.description}}</small>\n         </p>\n         <p *ngIf="user.hasEditPermissions(task)" class="admin" style="min-width:4em;">\n           <a [routerLink]="[\'/task/\' + task._id + \'/edit\']"><md-icon>edit</md-icon></a>\n           <a href (click)="deleteTask(task)"><md-icon>delete</md-icon></a>\n         </p>\n      </md-list-item>\n    </md-list>\n\n</md-card-content>\n<!-- </md-card> -->\n'},940:function(t,e){t.exports='<md-card class="task-view">\n  <md-card-content>\n\n    <h1>{{task.title}}</h1>\n    <!-- FIXME -->\n    <app-bp-donate [label]="\'Підтримати захід:\'" [amount]="70" [target]="task" [targetType]="\'task\'"></app-bp-donate>\n    <!-- -->\n\n    <md-grid-list cols="2" rowHeight="255" id="stats">\n      <md-grid-tile>\n\n        <!-- TODO: state="iFramed.Task"  -->\n        <app-bp-video [videoUrl]="task.videoUrl" [title]="task.title" placeholderUrl="assets/img/task/task-placeholder.png"></app-bp-video>\n\n      </md-grid-tile>\n      <md-grid-tile>\n        <div>\n          <h2>Зібрано {{task.totalDonationsReceived || 0}} з {{task.cost}} UAH</h2>\n          <h3><a [routerLink]="[\'/project/\',task.projectId]">До проекту</a></h3>\n          <p>Початок: {{task.dateStarted | date}}<br/>\n          Кінець: {{task.dateEnded | date}}</p>\n          <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A//bigpolicy.eu/task/{{task._id}}"\n          class="SHARE FACEBOOK"\n          onclick=\'window.open(this.href,"popupwindow", "width=800,height=500,left=200,top=5,scrollbars,toolbar=0,resizable"); return false;\'\n          target="social">\n          Share on FB\n        </a>\n        </div>\n      </md-grid-tile>\n    </md-grid-list>\n\n    <h2>Детальніше</h2>\n    <p>{{task.description}}</p>\n\n    <md-card-actions>\n      <span *ngIf="user.hasEditPermissions(task)" class="admin">\n        <a [routerLink] = "[\'/task/\' + task._id + \'/edit\']"><button md-raised-button>Редагувати</button></a>\n        <a href (click) = "deleteTask(task)"><button md-raised-button color="warn">Видалити</button></a>\n      </span>\n      <!-- <a [routerLink]="[\'/tasks\']"><button md-button color="primary">Всі заходи</button></a> -->\n    </md-card-actions>\n  </md-card-content>\n</md-card>\n'}},[1194]);
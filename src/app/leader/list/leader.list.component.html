<!-- Usage: <app-leader-list [groupId]="123" [pageSize]="10"></app-leader-list> -->
<md-card>
  <md-card-title>Лідери</md-card-title>
  <md-card-content>

    <!--
    TODO
    <p disabled>Показати у спискові:
      <select disabled>
        <option>члени партії...</option>
        <option>РПР</option>
        <option>ЩЗП</option>
      </select>

     <a href="#" disabled>активісти</a> з регіону:
      <select disabled>
        <option>Усі регіони</option>
        <option>Львів</option>
        <option>Харків</option>
      </select>
    </p> -->

    <div class="leaders-list">
     <div *ngFor="let leader of itemsPage.docs | async | paginate: {
                                                           id: 'itemsPage',
                                                           itemsPerPage: this.pageSize,
                                                           currentPage: itemsPage.page,
                                                           totalItems: itemsPage.total
                                                         }">
      <md-card class="leader-card">
        <md-card-title-group>
          <img class="mat-card-avatar" md-card-avatar src="assets/img/avatar-generic.png">
          <md-card-title><a [routerLink] = "['/leader/' + leader._id]">{{leader.name}} {{leader.surName}}</a>
            <span *ngIf="userService.isOwner(leader)">
              (я)
            </span>
          </md-card-title>
          <md-card-title></md-card-title>
        </md-card-title-group>
        <md-card-content>
            <p>Візія: {{leader.vision}}</p>
        </md-card-content>
        <md-card-actions>
          <a [routerLink] = "['/leader/' + leader._id]"><button md-button md-raised-button color="primary">Підтримати</button></a>
          <span *ngIf="userService.hasEditPermissions(leader)">
            <a [routerLink] = "['/leader/' + leader._id + '/edit']"><button md-button color="accent">Редагувати</button></a>
            <a href (click) = "deleteLeader(leader)"><button md-button color="warn">Видалити</button></a>
          </span>
        </md-card-actions>
      </md-card>
     </div>

     <pagination-controls
       id = "itemsPage"
       (pageChange)="pageChanged($event)"
       [maxSize]="5"
       directionLinks="true"
       previousLabel="Previous"
       nextLabel="Next"
       autoHide="true"
       >
    </pagination-controls>

    <p>Усього лідерів: {{itemsPage.total}}</p>
    </div>

  </md-card-content>
</md-card>

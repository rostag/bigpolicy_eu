<div class="project-view">

  <md-card-content>

    <app-bp-sharer #sharer [project]="project"></app-bp-sharer>

    <h1>{{project.title}}</h1>

    <app-bp-donate [label]="'Підтримати проект:'" [amount]="70" [target]="project" [targetType]="'project'"></app-bp-donate>

    <div fxLayout="row" fxLayoutAlign="space-between stretch" fxLayout.xs="column">
      <div fxFlex="50%">
        <app-image [src]="project.imageUrl || 'assets/img/project/project-placeholder.png'"></app-image>
      </div>

      <div fxFlex="45%">
        <!-- FIXME Рахувати вартість та донацїї проекту за його заходами -->
        <h2>Зібрано {{project.totalDonationsReceived || 0}} з {{project.cost}} UAH</h2>
        <h3>Менеджер: <a [routerLink] = "['/leader/' + project.managerId ]">{{project.managerName}}</a></h3>
        <p>Початок: {{project.dateStarted | date}}<br/>
        Кінець: {{project.dateEnded | date}}</p>
      </div>
    </div>

    <h2>Детальніше</h2>
    <p>{{project.description}}</p>

    <!-- <h2>Відео до проекту</h2> -->
    <app-bp-video class="project-video" [videoUrl]="project.videoUrl" [title]="project.title" placeholderUrl="assets/img/project/project-placeholder.png"></app-bp-video>

    <!-- Project Tasks -->
    <app-task-list title="Заходи:" [project]="project" [pageSize]="3" ></app-task-list>
    <!-- /Project Tasks -->

    <p *ngIf="userService.hasEditPermissions(project)" class="admin project-toolbar">
      <a [routerLink] = "['/project/' + project._id + '/edit']"><button md-raised-button color="primary">Змінити</button></a>
      <!-- TODO Enable it -->
      <button (click)="deleteProject(project)" md-raised-button color="warn">Видалити проект</button>
    </p>

  </md-card-content>

</div>

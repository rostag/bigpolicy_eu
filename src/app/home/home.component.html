<!-- EU cookie law support -->
<cookie-law position="top" name="topCookieLaw">
  Продовжуючи переглядати сайт, ви погоджуєтеся з використанням куків. <a [routerLink]="['/privacy']">Детальніше</a>.
</cookie-law>

<!-- All Projects
    Слайдшоу — 10 випадкових елементів, АБО: три найпростіших + три найсильншіх + 4 рандомом
    on Hover, Button Rendedered in MD Style -->

<!-- All Leaders
     Слайдшоу — 10 випадкових елементів, АБО: три найпростіших + три найсильншіх + 4 рандомом
     on Hover, Button Rendedered in MD Style -->

<!-- here, mongoDb query can be used like this:
     http://stackoverflow.com/questions/7811163/query-for-documents-where-array-size-is-greater-than-1
     { "$where": "this.projectIds.length > 2" }
     { "totalDonationsReceived": 0 }
     { "projectIds": { $size: 2 } } -->
<!-- <app-leader-list [pageSize]="1" dbQuery="{}"></app-leader-list> -->

<div fxLayout="row" fxLayoutAlign="space-around start" fxLayout.xs="column" >
  <app-project-brief fxFlex="42" projectId="random" [viewContext]="'homePage'"></app-project-brief>
  <app-leader-brief fxFlex="42" leaderId="random" [viewContext]="'homePage'"></app-leader-brief>
</div>

<div class="how-it-works">
  <h2 align="center">Як це працює?</h2>
  <div fxLayout="row wrap" fxLayoutAlign="space-around start">
  	<div fxFlex="21" fxFlex.sm="42" fxFlex.xs="84">
  		<div class="material-icons mat-48">face</div>
      <!-- FTUX - LEADER - Section is visible to non-leaders only -->
  		<div *ngIf="!userService.hasLeader()">Ви вирішуєте <a [routerLink]="['/add-leader']">стати лідером</a></div>
  		<div *ngIf="userService.hasLeader()">Ви стали лідером</div>
      <!-- /FTUX - LEADER END -->
  		<div>Використовуєте інструмент платформи для фандрейзингу коштів на ініціативи.</div>
  	</div>
  	<div fxFlex="21" fxFlex.sm="42" fxFlex.xs="84">
  		<div class="material-icons mat-48">loop</div>
  		<div>Прихильники ідеї підтримують її реалізацію коштами</div>
  		<div>Невелика сума краща за лайки в фейсбуці.</div>
  	</div>
  	<div fxFlex="21" fxFlex.sm="42" fxFlex.xs="84">
  		<div class="material-icons mat-48">mic</div>
  		<div>Ви завершуєте проект і розповідаєте про нього світові</div>
  		<div>BIGPOLICY допомагає вам.</div>
  	</div>
  	<div fxFlex="21" fxFlex.sm="42" fxFlex.xs="84">
  		<div class="material-icons mat-48">movie</div>
  		<div>Місія виконана з відповідними результатами</div>
  		<div>Нова ініціатива реалізована до життя!</div>
  	</div>
  </div>
</div>

<!-- Projects & Leaders -->
<!--
  Показуємо 6 активних проектів на 1 табі
  і також рандомно — 6 лідерів на другій табі
                                            -->
<mat-tab-group class="projects-leaders-list">
  <mat-tab label="Проекти" [ngClass]="'big'" >
    <app-project-list [pageSize]="6" [showPagination]="false"></app-project-list>
    <div class="controls">
      <button [routerLink]="['/projects']" class="bt-show-all" mat-button mat-raised-button color="primary">Всі проекти</button>
    </div>
  </mat-tab>
  <mat-tab label="Лідери" >
    <app-leader-list [pageSize]="6" [showPagination]="false"></app-leader-list>
    <div class="controls">
      <button [routerLink]="['/leaders']" class="bt-show-all" mat-raised-button color="primary">Всі лідери</button>
    </div>
  </mat-tab>
</mat-tab-group>

<p class="bottom-title">
    BigPolicy — платформа прямої демократії
    <br/>
    Твої політики для тебе і від тебе
</p>

<!-- Останні проекти та політики — це зменшені мініатюри -->
<!-- FIXME dbQuery to get recent ones only -->
<h2>Останні проекти</h2>
<app-project-list [pageSize]="6" [showPagination]="false" viewContext="compactProjectList" [flexSettings]="'16|16|33|50|100'" dbQuery='{ "$where": "this.tasks.length < 100" }' ></app-project-list>
<h2>Нові лідери</h2>
<app-leader-list [pageSize]="6" [showPagination]="false" viewContext="compactLeaderList" [flexSettings]="'33|33|33|50|100'" dbQuery='{ "$where": "this.projectIds.length < 100" }'></app-leader-list>

<!-- Contacts / Footer -->
<div class="contacts" fxLayout="row" fxLayoutAlign="space-between stretch" fxLayout.xs="column">
  <div fxFlex="49">
    <iframe width="100%" height="300" style="border:none;overflow:hidden;max-width: 560px;" src="https://www.facebook.com/plugins/video.php?href=https%3A%2F%2Fwww.facebook.com%2FBIGPOLICY%2Fvideos%2F161167597610702%2F&show_text=0&width=560" scrolling="no" frameborder="0" allowTransparency="true" id="fb_video_post"></iframe>
  </div>
  <div fxFlex="47">
    <h3 style="margin-top:0;">Контакти</h3>
    <address>
      м.&nbsp;Львів, вул.&nbsp;Наукова&nbsp;58, кв.&nbsp;28
      <br>
      +380 (93) 619-17-95
      <br>
      <a href="mailto:voice@bigpolicy.eu">voice@bigpolicy.eu</a>
    </address>

    <h3>Facebook</h3>
    <p>Група BigPolicy: <a href="https://www.facebook.com/groups/bigpolicy">facebook.com/groups/bigpolicy</a></p>
    <iframe src="https://www.facebook.com/plugins/like.php?href=https%3A%2F%2Fwww.facebook.com%2FBIGPOLICY%2F&width=450&layout=standard&action=like&show_faces=true&share=true&height=80&appId" width="300" height="100" style="border:none;overflow:hidden;" scrolling="no" frameborder="0" allowTransparency="true"></iframe>

    <h3>Розробникам:</h3>
    <p>
      Долучайся до <a href="https://github.com/rostag/bigpolicy_eu">BigPolicy на GitHub</a>. Звертайся до <a href="https://www.facebook.com/rastislavr">техліда</a> з питаннями.
    </p>

  </div>
</div>
